[2019-02-17 17:24:26]
Function Details: check_login 
 Param Details : 
{"username":"jamal","password":"74f56399c89f4bd03ff5e85b6bf4e85f"}


[2019-02-17 17:24:26]
Function Details: db_query
 Param Details: 
SELECT id as emp_id, name, email,office_email, username
						, is_admin, initial_pswd
						, (select id from cms_master_list where cms_master_list.id = cms_employees.access_level) as access_level
						
						, cms_emp_login_sessions.token
		                , accessible_ctg
						, malaysia_phone
						, concat('http://127.0.0.1:8000/mspdoc_bare/services/files/', 'photos/',id,'.jpeg') as profile_pic
		                , super_admin  FROM cms_employees
						LEFT join cms_emp_login_sessions ON
						 	cms_employees.id = cms_emp_login_sessions.emp_id WHERE cms_employees.username	= 'jamal' AND cms_employees.pswd = '74f56399c89f4bd03ff5e85b6bf4e85f' AND cms_employees.is_active = 1


[2019-02-17 17:24:26]
Function Details: is_login_token_valid 
 Param Details : 
{"username":"jamal","password":"74f56399c89f4bd03ff5e85b6bf4e85f","emp_id":"15","token":"03293db0a67871ad036730841905cf98"}


[2019-02-17 17:24:26]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:24:26]
Function Details: update_session 
 Param Details : 
{"username":"jamal","password":"74f56399c89f4bd03ff5e85b6bf4e85f","emp_id":"15","token":"03293db0a67871ad036730841905cf98"}


[2019-02-17 17:24:26]
Function Details: db_update
 Param Details: 
   		UPDATE cms_emp_login_sessions SET token = :token, emp_id = :emp_id, last_active = :last_active, client_ip = :client_ip WHERE token = :token 


[2019-02-17 17:24:27]
Function Details: db_update
 Param Details: 
 Array
(
    [:token] => 03293db0a67871ad036730841905cf98
    [:emp_id] => 15
    [:last_active] => 2019-02-17 17:24:26
    [:client_ip] => 127.0.0.1
)
 
 Result 1


[2019-02-17 17:24:27]
Function Details: db_query
 Param Details: 
SELECT cms_modules.descr, cms_employees_access.* FROM cms_employees_access INNER JOIN cms_modules ON cms_employees_access.module_id = cms_modules.id WHERE cms_employees_access.emp_id	= 15


[2019-02-17 17:24:27]
Function Details: arrange_accessibilty 
 Param Details : 
[{"descr":"Claims","id":"8","module_id":"1","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Timesheets","id":"9","module_id":"2","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Leaves","id":"10","module_id":"3","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Appointments","id":"11","module_id":"4","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Task","id":"12","module_id":"5","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Onboarding","id":"13","module_id":"7","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"FAQ","id":"14","module_id":"9","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"0","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Communication","id":"15","module_id":"10","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Settings","id":"252","module_id":"8","emp_id":"15","view_it":"0","view_it_all":"0","create_it":"0","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Job Posting","id":"253","module_id":"11","emp_id":"15","view_it":"0","view_it_all":"0","create_it":"0","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Clients","id":"348","module_id":"12","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Attendance","id":"384","module_id":"14","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Employees","id":"394","module_id":"6","emp_id":"15","view_it":"0","view_it_all":"0","create_it":"0","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Emails","id":"395","module_id":"13","emp_id":"15","view_it":"0","view_it_all":"0","create_it":"0","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Test","id":"396","module_id":"15","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"1","delete_it":"1","print_it":"0","verify_it":"1","approve_it":"1","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":null,"created_date":null,"update_by":null,"updated_date":null},{"descr":"Outbound Document","id":"397","module_id":"16","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"1","delete_it":"1","print_it":"0","verify_it":"1","approve_it":"1","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":null,"created_date":null,"update_by":null,"updated_date":null},{"descr":"Document Archiving","id":"398","module_id":"17","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"1","delete_it":"1","print_it":"0","verify_it":"1","approve_it":"1","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":null,"created_date":null,"update_by":null,"updated_date":null},{"descr":"Service Request","id":"401","module_id":"18","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"1","delete_it":"1","print_it":"0","verify_it":"1","approve_it":"1","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-12-29 00:00:00","update_by":null,"updated_date":null}]


[2019-02-17 17:24:27]
Function Details: db_query
 Param Details: 
SELECT id FROM cms_employees WHERE reporting_to_id = 15


[2019-02-17 17:24:27]
Function Details: db_query
 Param Details: 
SELECT id,name FROM cms_employees 


[2019-02-17 17:24:27]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 1


[2019-02-17 17:24:27]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 2


[2019-02-17 17:24:27]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 8


[2019-02-17 17:24:27]
Function Details: db_query
 Param Details: 
SELECT id,descr,no_of_days FROM cms_master_list WHERE category_id = 16


[2019-02-17 17:24:27]
Function Details: db_query
 Param Details: 
SELECT id,employer_name FROM cms_master_employer 


[2019-02-17 17:24:27]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 17


[2019-02-17 17:24:27]
Function Details: db_query
 Param Details: 
SELECT id,skills_name FROM cms_skills WHERE type_id = 67


[2019-02-17 17:24:28]
Function Details: db_query
 Param Details: 
SELECT id,skills_name FROM cms_skills WHERE type_id = 68


[2019-02-17 17:24:28]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_employees_details","data":{"id":"15"}}


[2019-02-17 17:24:28]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:24:28]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:24:28]
Function Details: get_employees_details 
 Param Details : 
{"id":"15"}


[2019-02-17 17:24:28]
Function Details: db_query
 Param Details: 
SELECT 
        id
        , employee_no
        , name
        , photoname
		, ic_passport
		, sex_id
		, age
		, date_format(dob,'%d-%m-%Y') as dob
		, nationality
		, birth_place
		, religion
		, race
		, designation
        , employer_id
		, home_phone
		, malaysia_phone
		, office_phone
		, local_address
        , home_address
        , home_country
		, email
		, office_email
		, username
        , pswd
		, is_admin
        , access_level
		, chat_id
		, dept_id
		, reporting_to_id
		, allow_add
        , allow_approve
        , allow_verify
        , allow_contract_approve
		, allow_contract_create
		, allow_contract_view_all
		, allow_contract_access
		, general_skills
        , specific_skills
        , date_format(work_start_date,'%d-%m-%Y') as work_start_date
        , date_format(work_end_date,'%d-%m-%Y') as work_end_date
        , salary
        , date_format(ep_valid_till,'%d-%m-%Y') as ep_valid_till
        , notice_period_id
		, spouse_name
		, spouse_occupation
		, date_format(marriage_date,'%d-%m-%Y') as marriage_date
		, spouse_ic
		, spouse_company
		, spouse_company_address
		, no_of_children
		, emergency_person
		, emergency_relation
		, emergency_address
		, emergency_phone
		, bank_acc_name
		, bank_acc_ic
		, bank_name
		, bank_account_no
		, accessible_ctg
		, super_admin
		, is_active
		, concat('http://127.0.0.1:8000/mspdoc_bare/services/files/', 'photos/',id,'.jpeg') as profile_pic
		, date_format(leaving_date,'%d-%m-%Y') as leaving_date
		, leaving_reason
		, created_by
        , (select employer_name from cms_master_employer where cms_master_employer.id = cms_employees.employer_id) as employer_name
        , (select descr from cms_master_list where cms_master_list.id = cms_employees.dept_id) as dept_name
        , (select descr from cms_master_list where cms_master_list.id = cms_employees.notice_period_id) as notice_period
        , (select descr from cms_master_list where cms_master_list.id = cms_employees.access_level) as access_level_name
         FROM cms_employees WHERE id = 15


[2019-02-17 17:24:28]
Function Details: db_query
 Param Details: 
SELECT skills_name FROM cms_skills WHERE id=0


[2019-02-17 17:24:28]
Function Details: db_query
 Param Details: 
SELECT skills_name FROM cms_skills WHERE id=0


[2019-02-17 17:24:28]
Function Details: db_query
 Param Details: 
SELECT module_id,view_it ,view_it_all ,create_it ,edit_it ,delete_it ,print_it ,verify_it ,approve_it,revoke_verify,revoke_approval FROM cms_employees_access WHERE emp_id = 15


[2019-02-17 17:25:15]
Function Details: db_query
 Param Details: 
SELECT id,name,office_email FROM cms_employees WHERE id =15 AND is_active = 1


[2019-02-17 17:25:15]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 39


[2019-02-17 17:25:15]
Function Details: db_query
 Param Details: 
SELECT id,employer_name FROM cms_master_employer WHERE is_active = 1


[2019-02-17 17:25:15]
Function Details: db_query
 Param Details: 
SELECT id,name FROM cms_clients WHERE is_active = 1


[2019-02-17 17:25:15]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 40


[2019-02-17 17:25:15]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 5


[2019-02-17 17:25:15]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 20


[2019-02-17 17:25:15]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 17:25:15]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:25:15]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:25:15]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 17:25:15]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 17:34:26]
Function Details: db_query
 Param Details: 
SELECT id,name,office_email FROM cms_employees WHERE id =15 AND is_active = 1


[2019-02-17 17:34:26]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 39


[2019-02-17 17:34:26]
Function Details: db_query
 Param Details: 
SELECT id,employer_name FROM cms_master_employer WHERE is_active = 1


[2019-02-17 17:34:26]
Function Details: db_query
 Param Details: 
SELECT id,name FROM cms_clients WHERE is_active = 1


[2019-02-17 17:34:26]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 40


[2019-02-17 17:34:26]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 5


[2019-02-17 17:34:26]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 20


[2019-02-17 17:34:27]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 17:34:27]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:34:27]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:34:27]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 17:34:27]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 17:35:06]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"add_edit_service_request","data":{"service_no":"","service_data":{"category_id":"218","employer_id":"1","description":"2","unit_price":"4","qty":"5","amount":"20.00","sst":"0","total_amount":"20.00","bank_account_details":"3","date_required":"","status_id":"222","raise_invoice":{"client_id":"1","contact_person":"1","payment_terms":"225","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"]},"payment":{"payable_to":"","attachment":null},"advance_loan":{"number_of_repayment":"","each_repayment_amount":"","advance_or_loan":"","current_balance_advance_or_loan":"","attachment":null},"assets":{"type_of_assets":"","duration":"","remarks":"","attachment":null},"approval_verify":null,"remark_list":null},"emp_id":"15"}}


[2019-02-17 17:35:06]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:35:06]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:35:06]
Function Details: add_edit_service_request 
 Param Details : 
{"service_no":"","service_data":{"category_id":"218","employer_id":"1","description":"2","unit_price":"4","qty":"5","amount":"20.00","sst":"0","total_amount":"20.00","bank_account_details":"3","date_required":"","status_id":"222","raise_invoice":{"client_id":"1","contact_person":"1","payment_terms":"225","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"]},"payment":{"payable_to":"","attachment":null},"advance_loan":{"number_of_repayment":"","each_repayment_amount":"","advance_or_loan":"","current_balance_advance_or_loan":"","attachment":null},"assets":{"type_of_assets":"","duration":"","remarks":"","attachment":null},"approval_verify":null,"remark_list":null},"emp_id":"15"}


[2019-02-17 17:35:06]
Function Details: get_doc_primary_no 
 Param Details : 
"service_no cms_service_request"


[2019-02-17 17:35:06]
Function Details: db_query
 Param Details: 
SELECT prefix,sequence_digit FROM cms_master_employer WHERE id = 1


[2019-02-17 17:35:06]
Function Details: db_query
 Param Details: 
SELECT IFNULL( CONCAT( RIGHT(YEAR(NOW()),2),'-',  LPAD(  SUBSTRING_INDEX(MAX(service_no),'-',-1) + 1 ,5,REPEAT('0', 5))), CONCAT( RIGHT(YEAR(NOW()),2),'-',  CONCAT( REPEAT('0', 5-1),'1')    )) AS service_no  FROM cms_service_request WHERE YEAR(created_date) = YEAR(NOW()) ORDER BY service_no desc limit 0,1


[2019-02-17 17:35:06]
Function Details: is_data_exist 
 Param Details : 
"cms_service_request service_no MSP19-00001"


[2019-02-17 17:35:06]
Function Details: db_query
 Param Details: 
SELECT count(*) as id_count FROM cms_service_request WHERE service_no = 'MSP19-00001'


[2019-02-17 17:35:07]
Function Details: db_add
 Param Details: 
 Array
(
    [:service_no] => MSP19-00001
    [:sr_data] => {"category_id":"218","employer_id":"1","description":"2","unit_price":"4","qty":"5","amount":"20.00","sst":"0","total_amount":"20.00","bank_account_details":"3","date_required":"","status_id":"222","raise_invoice":{"client_id":"1","contact_person":"1","payment_terms":"225","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"]},"payment":{"payable_to":"","attachment":null},"advance_loan":{"number_of_repayment":"","each_repayment_amount":"","advance_or_loan":"","current_balance_advance_or_loan":"","attachment":null},"assets":{"type_of_assets":"","duration":"","remarks":"","attachment":null},"approval_verify":null,"remark_list":null}
    [:created_by] => 15
    [:created_date] => 2019-02-17 17:35:06
)
 
 Result 1


[2019-02-17 17:35:07]
Business Layer: 


[2019-02-17 17:35:07]
Business Layer: 


[2019-02-17 17:36:30]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 17:36:30]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:36:30]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:36:30]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 17:36:30]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 17:36:32]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_details","data":{"service_no":"MSP19-00001"}}


[2019-02-17 17:36:32]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:36:32]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:36:32]
Function Details: get_service_request_details 
 Param Details : 
{"service_no":"MSP19-00001"}


[2019-02-17 17:36:32]
Function Details: db_query
 Param Details: 
SELECT 					
						service_no
				        , sr_data
				        , concat('http://127.0.0.1:8000/mspdoc_bare/services/files/', 'service_request', '/',service_no, '/') as filepath
				        , created_date
				        , created_by
						, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name			
					 FROM cms_service_request WHERE service_no = 'MSP19-00001'


[2019-02-17 17:37:00]
Function Details: db_query
 Param Details: 
SELECT id,name,office_email FROM cms_employees WHERE id =15 AND is_active = 1


[2019-02-17 17:37:00]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 39


[2019-02-17 17:37:00]
Function Details: db_query
 Param Details: 
SELECT id,employer_name FROM cms_master_employer WHERE is_active = 1


[2019-02-17 17:37:00]
Function Details: db_query
 Param Details: 
SELECT id,name FROM cms_clients WHERE is_active = 1


[2019-02-17 17:37:00]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 40


[2019-02-17 17:37:00]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 5


[2019-02-17 17:37:00]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 20


[2019-02-17 17:37:00]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 17:37:00]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:37:00]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:37:00]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 17:37:00]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 17:37:03]
Function Details: db_query
 Param Details: 
SELECT id,name,office_email FROM cms_employees WHERE id =15 AND is_active = 1


[2019-02-17 17:37:03]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 39


[2019-02-17 17:37:03]
Function Details: db_query
 Param Details: 
SELECT id,employer_name FROM cms_master_employer WHERE is_active = 1


[2019-02-17 17:37:03]
Function Details: db_query
 Param Details: 
SELECT id,name FROM cms_clients WHERE is_active = 1


[2019-02-17 17:37:03]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 40


[2019-02-17 17:37:03]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 5


[2019-02-17 17:37:03]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 20


[2019-02-17 17:37:03]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 17:37:03]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:37:03]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:37:03]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 17:37:03]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 17:37:06]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_details","data":{"service_no":"MSP19-00001"}}


[2019-02-17 17:37:06]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:37:06]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:37:06]
Function Details: get_service_request_details 
 Param Details : 
{"service_no":"MSP19-00001"}


[2019-02-17 17:37:06]
Function Details: db_query
 Param Details: 
SELECT 					
						service_no
				        , sr_data
				        , concat('http://127.0.0.1:8000/mspdoc_bare/services/files/', 'service_request', '/',service_no, '/') as filepath
				        , created_date
				        , created_by
						, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name			
					 FROM cms_service_request WHERE service_no = 'MSP19-00001'


[2019-02-17 17:37:29]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"add_edit_service_request","data":{"service_no":"MSP19-00001","service_data":{"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","attachment":null,"type_of_assets":""},"payment":{"attachment":null,"payable_to":""},"status_id":"222","unit_price":"4","category_id":"218","description":"2","employer_id":"1","remark_list":null,"advance_loan":{"attachment":null,"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"payment_terms":"225","contact_person":"1"},"approval_verify":null,"bank_account_details":"3"},"emp_id":"15"}}


[2019-02-17 17:37:29]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:37:29]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:37:29]
Function Details: add_edit_service_request 
 Param Details : 
{"service_no":"MSP19-00001","service_data":{"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","attachment":null,"type_of_assets":""},"payment":{"attachment":null,"payable_to":""},"status_id":"222","unit_price":"4","category_id":"218","description":"2","employer_id":"1","remark_list":null,"advance_loan":{"attachment":null,"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"payment_terms":"225","contact_person":"1"},"approval_verify":null,"bank_account_details":"3"},"emp_id":"15"}


[2019-02-17 17:37:29]
Function Details: is_data_exist 
 Param Details : 
"cms_service_request service_no MSP19-00001"


[2019-02-17 17:37:29]
Function Details: db_query
 Param Details: 
SELECT count(*) as id_count FROM cms_service_request WHERE service_no = 'MSP19-00001'


[2019-02-17 17:37:29]
Function Details: db_update
 Param Details: 
   		UPDATE cms_service_request SET service_no = :service_no, sr_data = :sr_data, updated_by = :updated_by, updated_date = :updated_date WHERE service_no = :service_no 


[2019-02-17 17:37:30]
Function Details: db_update
 Param Details: 
 Array
(
    [:service_no] => MSP19-00001
    [:sr_data] => {"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","attachment":null,"type_of_assets":""},"payment":{"attachment":null,"payable_to":""},"status_id":"222","unit_price":"4","category_id":"218","description":"2","employer_id":"1","remark_list":null,"advance_loan":{"attachment":null,"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"payment_terms":"225","contact_person":"1"},"approval_verify":null,"bank_account_details":"3"}
    [:updated_by] => 15
    [:updated_date] => 2019-02-17 17:37:29
)
 
 Result 1


[2019-02-17 17:38:18]
Function Details: db_query
 Param Details: 
SELECT id,name,office_email FROM cms_employees WHERE id =15 AND is_active = 1


[2019-02-17 17:38:18]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 39


[2019-02-17 17:38:18]
Function Details: db_query
 Param Details: 
SELECT id,employer_name FROM cms_master_employer WHERE is_active = 1


[2019-02-17 17:38:18]
Function Details: db_query
 Param Details: 
SELECT id,name FROM cms_clients WHERE is_active = 1


[2019-02-17 17:38:18]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 40


[2019-02-17 17:38:18]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 5


[2019-02-17 17:38:18]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 20


[2019-02-17 17:38:18]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 17:38:18]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:38:18]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:38:18]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 17:38:18]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 17:38:22]
Function Details: db_query
 Param Details: 
SELECT id,name,office_email FROM cms_employees WHERE id =15 AND is_active = 1


[2019-02-17 17:38:22]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 39


[2019-02-17 17:38:22]
Function Details: db_query
 Param Details: 
SELECT id,employer_name FROM cms_master_employer WHERE is_active = 1


[2019-02-17 17:38:22]
Function Details: db_query
 Param Details: 
SELECT id,name FROM cms_clients WHERE is_active = 1


[2019-02-17 17:38:22]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 40


[2019-02-17 17:38:22]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 5


[2019-02-17 17:38:22]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 20


[2019-02-17 17:38:23]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 17:38:23]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:38:23]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:38:23]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 17:38:23]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 17:38:36]
Function Details: db_query
 Param Details: 
SELECT id,name,office_email FROM cms_employees WHERE id =15 AND is_active = 1


[2019-02-17 17:38:36]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 39


[2019-02-17 17:38:36]
Function Details: db_query
 Param Details: 
SELECT id,employer_name FROM cms_master_employer WHERE is_active = 1


[2019-02-17 17:38:36]
Function Details: db_query
 Param Details: 
SELECT id,name FROM cms_clients WHERE is_active = 1


[2019-02-17 17:38:36]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 40


[2019-02-17 17:38:36]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 5


[2019-02-17 17:38:36]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 20


[2019-02-17 17:38:37]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 17:38:37]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:38:37]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:38:37]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 17:38:37]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 17:39:08]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"add_edit_service_request","data":{"service_no":"","service_data":{"category_id":"218","employer_id":"1","description":"2","unit_price":"4","qty":"5","amount":"20.00","sst":"0","total_amount":"20.00","bank_account_details":"3","date_required":"","status_id":"222","raise_invoice":{"client_id":"1","contact_person":"1","payment_terms":"225"},"payment":{"payable_to":""},"advance_loan":{"number_of_repayment":"","each_repayment_amount":"","advance_or_loan":"","current_balance_advance_or_loan":""},"assets":{"type_of_assets":"","duration":"","remarks":""},"attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"approval_verify":null,"remark_list":null},"emp_id":"15"}}


[2019-02-17 17:39:08]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:39:08]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:39:08]
Function Details: add_edit_service_request 
 Param Details : 
{"service_no":"","service_data":{"category_id":"218","employer_id":"1","description":"2","unit_price":"4","qty":"5","amount":"20.00","sst":"0","total_amount":"20.00","bank_account_details":"3","date_required":"","status_id":"222","raise_invoice":{"client_id":"1","contact_person":"1","payment_terms":"225"},"payment":{"payable_to":""},"advance_loan":{"number_of_repayment":"","each_repayment_amount":"","advance_or_loan":"","current_balance_advance_or_loan":""},"assets":{"type_of_assets":"","duration":"","remarks":""},"attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"approval_verify":null,"remark_list":null},"emp_id":"15"}


[2019-02-17 17:39:08]
Function Details: get_doc_primary_no 
 Param Details : 
"service_no cms_service_request"


[2019-02-17 17:39:08]
Function Details: db_query
 Param Details: 
SELECT prefix,sequence_digit FROM cms_master_employer WHERE id = 1


[2019-02-17 17:39:08]
Function Details: db_query
 Param Details: 
SELECT IFNULL( CONCAT( RIGHT(YEAR(NOW()),2),'-',  LPAD(  SUBSTRING_INDEX(MAX(service_no),'-',-1) + 1 ,5,REPEAT('0', 5))), CONCAT( RIGHT(YEAR(NOW()),2),'-',  CONCAT( REPEAT('0', 5-1),'1')    )) AS service_no  FROM cms_service_request WHERE YEAR(created_date) = YEAR(NOW()) ORDER BY service_no desc limit 0,1


[2019-02-17 17:39:08]
Function Details: is_data_exist 
 Param Details : 
"cms_service_request service_no MSP19-00001"


[2019-02-17 17:39:08]
Function Details: db_query
 Param Details: 
SELECT count(*) as id_count FROM cms_service_request WHERE service_no = 'MSP19-00001'


[2019-02-17 17:39:09]
Function Details: db_add
 Param Details: 
 Array
(
    [:service_no] => MSP19-00001
    [:sr_data] => {"category_id":"218","employer_id":"1","description":"2","unit_price":"4","qty":"5","amount":"20.00","sst":"0","total_amount":"20.00","bank_account_details":"3","date_required":"","status_id":"222","raise_invoice":{"client_id":"1","contact_person":"1","payment_terms":"225"},"payment":{"payable_to":""},"advance_loan":{"number_of_repayment":"","each_repayment_amount":"","advance_or_loan":"","current_balance_advance_or_loan":""},"assets":{"type_of_assets":"","duration":"","remarks":""},"attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"approval_verify":null,"remark_list":null}
    [:created_by] => 15
    [:created_date] => 2019-02-17 17:39:08
)
 
 Result 1


[2019-02-17 17:39:10]
Business Layer: 


[2019-02-17 17:39:10]
Business Layer: 


[2019-02-17 17:39:30]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 17:39:30]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:39:30]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:39:30]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 17:39:30]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 17:39:33]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_details","data":{"service_no":"MSP19-00001"}}


[2019-02-17 17:39:33]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:39:33]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:39:33]
Function Details: get_service_request_details 
 Param Details : 
{"service_no":"MSP19-00001"}


[2019-02-17 17:39:33]
Function Details: db_query
 Param Details: 
SELECT 					
						service_no
				        , sr_data
				        , concat('http://127.0.0.1:8000/mspdoc_bare/services/files/', 'service_request', '/',service_no, '/') as filepath
				        , created_date
				        , created_by
						, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name			
					 FROM cms_service_request WHERE service_no = 'MSP19-00001'


[2019-02-17 17:40:54]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"add_edit_service_request","data":{"service_no":"MSP19-00001","service_data":{"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":"5"},"status_id":"222","attachment":[],"unit_price":"4","category_id":"219","description":"2","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"1"},"approval_verify":null,"bank_account_details":"3"},"emp_id":"15"}}


[2019-02-17 17:40:54]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:40:54]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:40:54]
Function Details: add_edit_service_request 
 Param Details : 
{"service_no":"MSP19-00001","service_data":{"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":"5"},"status_id":"222","attachment":[],"unit_price":"4","category_id":"219","description":"2","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"1"},"approval_verify":null,"bank_account_details":"3"},"emp_id":"15"}


[2019-02-17 17:40:54]
Function Details: is_data_exist 
 Param Details : 
"cms_service_request service_no MSP19-00001"


[2019-02-17 17:40:54]
Function Details: db_query
 Param Details: 
SELECT count(*) as id_count FROM cms_service_request WHERE service_no = 'MSP19-00001'


[2019-02-17 17:40:54]
Function Details: db_update
 Param Details: 
   		UPDATE cms_service_request SET service_no = :service_no, sr_data = :sr_data, updated_by = :updated_by, updated_date = :updated_date WHERE service_no = :service_no 


[2019-02-17 17:40:55]
Function Details: db_update
 Param Details: 
 Array
(
    [:service_no] => MSP19-00001
    [:sr_data] => {"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":"5"},"status_id":"222","attachment":[],"unit_price":"4","category_id":"219","description":"2","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"1"},"approval_verify":null,"bank_account_details":"3"}
    [:updated_by] => 15
    [:updated_date] => 2019-02-17 17:40:54
)
 
 Result 1


[2019-02-17 17:40:59]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 17:40:59]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:40:59]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:40:59]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 17:40:59]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 17:41:01]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_details","data":{"service_no":"MSP19-00001"}}


[2019-02-17 17:41:01]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:41:01]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:41:01]
Function Details: get_service_request_details 
 Param Details : 
{"service_no":"MSP19-00001"}


[2019-02-17 17:41:01]
Function Details: db_query
 Param Details: 
SELECT 					
						service_no
				        , sr_data
				        , concat('http://127.0.0.1:8000/mspdoc_bare/services/files/', 'service_request', '/',service_no, '/') as filepath
				        , created_date
				        , created_by
						, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name			
					 FROM cms_service_request WHERE service_no = 'MSP19-00001'


[2019-02-17 17:42:54]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"add_edit_service_request","data":{"service_no":"MSP19-00001","service_data":{"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":"5"},"status_id":"222","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"unit_price":"4","category_id":"219","description":"2","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"1"},"approval_verify":null,"bank_account_details":"3"},"emp_id":"15"}}


[2019-02-17 17:42:54]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:42:54]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:42:54]
Function Details: add_edit_service_request 
 Param Details : 
{"service_no":"MSP19-00001","service_data":{"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":"5"},"status_id":"222","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"unit_price":"4","category_id":"219","description":"2","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"1"},"approval_verify":null,"bank_account_details":"3"},"emp_id":"15"}


[2019-02-17 17:42:54]
Function Details: is_data_exist 
 Param Details : 
"cms_service_request service_no MSP19-00001"


[2019-02-17 17:42:54]
Function Details: db_query
 Param Details: 
SELECT count(*) as id_count FROM cms_service_request WHERE service_no = 'MSP19-00001'


[2019-02-17 17:42:54]
Function Details: db_update
 Param Details: 
   		UPDATE cms_service_request SET service_no = :service_no, sr_data = :sr_data, updated_by = :updated_by, updated_date = :updated_date WHERE service_no = :service_no 


[2019-02-17 17:42:55]
Function Details: db_update
 Param Details: 
 Array
(
    [:service_no] => MSP19-00001
    [:sr_data] => {"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":"5"},"status_id":"222","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"unit_price":"4","category_id":"219","description":"2","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"1"},"approval_verify":null,"bank_account_details":"3"}
    [:updated_by] => 15
    [:updated_date] => 2019-02-17 17:42:54
)
 
 Result 1


[2019-02-17 17:42:56]
Business Layer: 


[2019-02-17 17:42:56]
Business Layer: 


[2019-02-17 17:43:00]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 17:43:00]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:43:00]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:43:00]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 17:43:00]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 17:43:02]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_details","data":{"service_no":"MSP19-00001"}}


[2019-02-17 17:43:02]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:43:02]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:43:02]
Function Details: get_service_request_details 
 Param Details : 
{"service_no":"MSP19-00001"}


[2019-02-17 17:43:02]
Function Details: db_query
 Param Details: 
SELECT 					
						service_no
				        , sr_data
				        , concat('http://127.0.0.1:8000/mspdoc_bare/services/files/', 'service_request', '/',service_no, '/') as filepath
				        , created_date
				        , created_by
						, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name			
					 FROM cms_service_request WHERE service_no = 'MSP19-00001'


[2019-02-17 17:43:27]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 17:43:27]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:43:27]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:43:27]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 17:43:27]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 17:43:29]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_details","data":{"service_no":"MSP19-00001"}}


[2019-02-17 17:43:29]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:43:29]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:43:29]
Function Details: get_service_request_details 
 Param Details : 
{"service_no":"MSP19-00001"}


[2019-02-17 17:43:29]
Function Details: db_query
 Param Details: 
SELECT 					
						service_no
				        , sr_data
				        , concat('http://127.0.0.1:8000/mspdoc_bare/services/files/', 'service_request', '/',service_no, '/') as filepath
				        , created_date
				        , created_by
						, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name			
					 FROM cms_service_request WHERE service_no = 'MSP19-00001'


[2019-02-17 17:43:41]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"add_edit_service_request","data":{"service_no":"MSP19-00001","service_data":{"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":"5"},"status_id":"223","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"unit_price":"4","category_id":"219","description":"2","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"1"},"approval_verify":null,"bank_account_details":"3"},"emp_id":"15"}}


[2019-02-17 17:43:41]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:43:41]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:43:41]
Function Details: add_edit_service_request 
 Param Details : 
{"service_no":"MSP19-00001","service_data":{"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":"5"},"status_id":"223","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"unit_price":"4","category_id":"219","description":"2","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"1"},"approval_verify":null,"bank_account_details":"3"},"emp_id":"15"}


[2019-02-17 17:43:41]
Function Details: is_data_exist 
 Param Details : 
"cms_service_request service_no MSP19-00001"


[2019-02-17 17:43:41]
Function Details: db_query
 Param Details: 
SELECT count(*) as id_count FROM cms_service_request WHERE service_no = 'MSP19-00001'


[2019-02-17 17:43:41]
Function Details: db_update
 Param Details: 
   		UPDATE cms_service_request SET service_no = :service_no, sr_data = :sr_data, updated_by = :updated_by, updated_date = :updated_date WHERE service_no = :service_no 


[2019-02-17 17:43:42]
Function Details: db_update
 Param Details: 
 Array
(
    [:service_no] => MSP19-00001
    [:sr_data] => {"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":"5"},"status_id":"223","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"unit_price":"4","category_id":"219","description":"2","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"1"},"approval_verify":null,"bank_account_details":"3"}
    [:updated_by] => 15
    [:updated_date] => 2019-02-17 17:43:41
)
 
 Result 1


[2019-02-17 17:43:42]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"send_email_verifier_approver_service_request","data":{"service_no":"MSP19-00001","module_id":"18","emp_id":"15","email_type":0,"attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"]}}


[2019-02-17 17:43:42]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 17:43:42]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 17:43:42]
Function Details: db_query
 Param Details: 
SELECT template_content FROM cms_master_template WHERE id = 31


[2019-02-17 17:43:42]
Function Details: db_query
 Param Details: 
SELECT cms_master_list.descr as category,cms_employees.office_email as created_by_email FROM cms_service_request 
                                      INNER JOIN cms_employees ON cms_service_request.created_by = cms_employees.id
                                      LEFT JOIN cms_master_list ON JSON_UNQUOTE(cms_service_request.sr_data->"$.category_id") = cms_master_list.id WHERE service_no='MSP19-00001'


[2019-02-17 17:43:42]
Function Details: db_query
 Param Details: 
SELECT office_email FROM cms_employees WHERE id='15'


[2019-02-17 17:43:42]
Function Details: get_mail_signature 
 Param Details : 
"sancheev@gmail.com"


[2019-02-17 17:43:42]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT cms_employees.name, cms_master_employer.mail_signature, 
									cms_employees.device_info, cms_employees.device_id
									FROM cms_employees
									LEFT JOIN cms_master_employer ON cms_employees.employer_id = cms_master_employer.id
									WHERE cms_employees.office_email in('sancheev@gmail.com') AND cms_employees.is_active = 1


[2019-02-17 17:43:43]
Function Details: get_verifier_approver 
 Param Details : 
"18"


[2019-02-17 17:43:43]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT group_concat(office_email SEPARATOR ';') as email
									FROM cms_employees
									INNER JOIN cms_employees_access ON cms_employees.id =  cms_employees_access.emp_id
									WHERE cms_employees_access.module_id = 18 AND verify_it = 1 AND approve_it = 1 AND cms_employees.is_active = 1


[2019-02-17 17:43:54]
Function Details: smtpmailer 
 Param Details : 
"Email Sent : sancheev@gmail.com CC'ed : sancheev@gmail.com"


[2019-02-17 18:11:33]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"add_edit_service_request","data":{"service_no":"MSP19-00001","service_data":{"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":"5"},"status_id":"223","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls","IME Malaysia Online.pdf"],"unit_price":"4","category_id":"219","description":"2","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"1"},"approval_verify":null,"bank_account_details":"3"},"emp_id":"15"}}


[2019-02-17 18:11:33]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:11:33]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:11:33]
Function Details: add_edit_service_request 
 Param Details : 
{"service_no":"MSP19-00001","service_data":{"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":"5"},"status_id":"223","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls","IME Malaysia Online.pdf"],"unit_price":"4","category_id":"219","description":"2","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"1"},"approval_verify":null,"bank_account_details":"3"},"emp_id":"15"}


[2019-02-17 18:11:33]
Function Details: is_data_exist 
 Param Details : 
"cms_service_request service_no MSP19-00001"


[2019-02-17 18:11:33]
Function Details: db_query
 Param Details: 
SELECT count(*) as id_count FROM cms_service_request WHERE service_no = 'MSP19-00001'


[2019-02-17 18:11:33]
Function Details: db_update
 Param Details: 
   		UPDATE cms_service_request SET service_no = :service_no, sr_data = :sr_data, updated_by = :updated_by, updated_date = :updated_date WHERE service_no = :service_no 


[2019-02-17 18:11:35]
Function Details: db_update
 Param Details: 
 Array
(
    [:service_no] => MSP19-00001
    [:sr_data] => {"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":"5"},"status_id":"223","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls","IME Malaysia Online.pdf"],"unit_price":"4","category_id":"219","description":"2","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"1"},"approval_verify":null,"bank_account_details":"3"}
    [:updated_by] => 15
    [:updated_date] => 2019-02-17 18:11:33
)
 
 Result 1


[2019-02-17 18:11:35]
Business Layer: 


[2019-02-17 18:11:35]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"send_email_verifier_approver_service_request","data":{"service_no":"MSP19-00001","module_id":"18","emp_id":"15","email_type":0,"attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls","IME Malaysia Online.pdf"]}}


[2019-02-17 18:11:35]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:11:35]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:11:35]
Function Details: db_query
 Param Details: 
SELECT template_content FROM cms_master_template WHERE id = 31


[2019-02-17 18:11:35]
Function Details: db_query
 Param Details: 
SELECT cms_master_list.descr as category,cms_employees.office_email as created_by_email FROM cms_service_request 
                                      INNER JOIN cms_employees ON cms_service_request.created_by = cms_employees.id
                                      LEFT JOIN cms_master_list ON JSON_UNQUOTE(cms_service_request.sr_data->"$.category_id") = cms_master_list.id WHERE service_no='MSP19-00001'


[2019-02-17 18:11:35]
Function Details: db_query
 Param Details: 
SELECT office_email FROM cms_employees WHERE id='15'


[2019-02-17 18:11:35]
Function Details: get_mail_signature 
 Param Details : 
"sancheev@gmail.com"


[2019-02-17 18:11:35]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT cms_employees.name, cms_master_employer.mail_signature, 
									cms_employees.device_info, cms_employees.device_id
									FROM cms_employees
									LEFT JOIN cms_master_employer ON cms_employees.employer_id = cms_master_employer.id
									WHERE cms_employees.office_email in('sancheev@gmail.com') AND cms_employees.is_active = 1


[2019-02-17 18:11:36]
Function Details: get_verifier_approver 
 Param Details : 
"18"


[2019-02-17 18:11:36]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT group_concat(office_email SEPARATOR ';') as email
									FROM cms_employees
									INNER JOIN cms_employees_access ON cms_employees.id =  cms_employees_access.emp_id
									WHERE cms_employees_access.module_id = 18 AND verify_it = 1 AND approve_it = 1 AND cms_employees.is_active = 1


[2019-02-17 18:11:37]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 18:11:37]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:11:37]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:11:37]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 18:11:37]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 18:11:39]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_details","data":{"service_no":"MSP19-00001"}}


[2019-02-17 18:11:39]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:11:39]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:11:39]
Function Details: get_service_request_details 
 Param Details : 
{"service_no":"MSP19-00001"}


[2019-02-17 18:11:39]
Function Details: db_query
 Param Details: 
SELECT 					
						service_no
				        , sr_data
				        , concat('http://127.0.0.1:8000/mspdoc_bare/services/files/', 'service_request', '/',service_no, '/') as filepath
				        , created_date
				        , created_by
						, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name			
					 FROM cms_service_request WHERE service_no = 'MSP19-00001'


[2019-02-17 18:11:44]
Function Details: smtpmailer 
 Param Details : 
"Email Sent : sancheev@gmail.com CC'ed : sancheev@gmail.com"


[2019-02-17 18:11:56]
Function Details: db_query
 Param Details: 
SELECT id,name,office_email FROM cms_employees WHERE id =15 AND is_active = 1


[2019-02-17 18:11:56]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 39


[2019-02-17 18:11:56]
Function Details: db_query
 Param Details: 
SELECT id,employer_name FROM cms_master_employer WHERE is_active = 1


[2019-02-17 18:11:56]
Function Details: db_query
 Param Details: 
SELECT id,name FROM cms_clients WHERE is_active = 1


[2019-02-17 18:11:56]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 40


[2019-02-17 18:11:56]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 5


[2019-02-17 18:11:56]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 20


[2019-02-17 18:11:57]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 18:11:57]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:11:57]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:11:57]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 18:11:57]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 18:12:38]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"add_edit_service_request","data":{"service_no":"MSP19-00001","service_data":{"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":"5"},"status_id":"223","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls","IME Malaysia Online.pdf"],"unit_price":"4","category_id":"219","description":"2","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"1"},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:12:35"},"approve":{"approved":null,"approved_by":null,"approved_date":null}},"bank_account_details":"3"},"emp_id":"15"}}


[2019-02-17 18:12:38]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:12:38]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:12:38]
Function Details: add_edit_service_request 
 Param Details : 
{"service_no":"MSP19-00001","service_data":{"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":"5"},"status_id":"223","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls","IME Malaysia Online.pdf"],"unit_price":"4","category_id":"219","description":"2","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"1"},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:12:35"},"approve":{"approved":null,"approved_by":null,"approved_date":null}},"bank_account_details":"3"},"emp_id":"15"}


[2019-02-17 18:12:38]
Function Details: is_data_exist 
 Param Details : 
"cms_service_request service_no MSP19-00001"


[2019-02-17 18:12:38]
Function Details: db_query
 Param Details: 
SELECT count(*) as id_count FROM cms_service_request WHERE service_no = 'MSP19-00001'


[2019-02-17 18:12:38]
Function Details: db_update
 Param Details: 
   		UPDATE cms_service_request SET service_no = :service_no, sr_data = :sr_data, updated_by = :updated_by, updated_date = :updated_date WHERE service_no = :service_no 


[2019-02-17 18:12:39]
Function Details: db_update
 Param Details: 
 Array
(
    [:service_no] => MSP19-00001
    [:sr_data] => {"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":"5"},"status_id":"223","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls","IME Malaysia Online.pdf"],"unit_price":"4","category_id":"219","description":"2","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"1"},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:12:35"},"approve":{"approved":null,"approved_by":null,"approved_date":null}},"bank_account_details":"3"}
    [:updated_by] => 15
    [:updated_date] => 2019-02-17 18:12:38
)
 
 Result 1


[2019-02-17 18:12:40]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 18:12:40]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:12:40]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:12:40]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 18:12:40]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 18:14:35]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"add_edit_service_request","data":{"service_no":"MSP19-00001","service_data":{"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":"5"},"status_id":"224","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls","IME Malaysia Online.pdf"],"unit_price":"4","category_id":"219","description":"2","employer_id":"1","remark_list":[{"remarks":"Completed","created_by":"Jamal Ali","created_date":"2019-02-17 18:14:24"}],"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"1"},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:12:35"},"approve":{"approved":1,"approved_by":"15","approved_date":"2019-02-17 18:14:24"}},"bank_account_details":"3"},"emp_id":"15"}}


[2019-02-17 18:14:35]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:14:35]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:14:35]
Function Details: add_edit_service_request 
 Param Details : 
{"service_no":"MSP19-00001","service_data":{"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":"5"},"status_id":"224","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls","IME Malaysia Online.pdf"],"unit_price":"4","category_id":"219","description":"2","employer_id":"1","remark_list":[{"remarks":"Completed","created_by":"Jamal Ali","created_date":"2019-02-17 18:14:24"}],"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"1"},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:12:35"},"approve":{"approved":1,"approved_by":"15","approved_date":"2019-02-17 18:14:24"}},"bank_account_details":"3"},"emp_id":"15"}


[2019-02-17 18:14:35]
Function Details: is_data_exist 
 Param Details : 
"cms_service_request service_no MSP19-00001"


[2019-02-17 18:14:35]
Function Details: db_query
 Param Details: 
SELECT count(*) as id_count FROM cms_service_request WHERE service_no = 'MSP19-00001'


[2019-02-17 18:14:35]
Function Details: db_update
 Param Details: 
   		UPDATE cms_service_request SET service_no = :service_no, sr_data = :sr_data, updated_by = :updated_by, updated_date = :updated_date WHERE service_no = :service_no 


[2019-02-17 18:14:36]
Function Details: db_update
 Param Details: 
 Array
(
    [:service_no] => MSP19-00001
    [:sr_data] => {"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":"5"},"status_id":"224","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls","IME Malaysia Online.pdf"],"unit_price":"4","category_id":"219","description":"2","employer_id":"1","remark_list":[{"remarks":"Completed","created_by":"Jamal Ali","created_date":"2019-02-17 18:14:24"}],"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"1"},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:12:35"},"approve":{"approved":1,"approved_by":"15","approved_date":"2019-02-17 18:14:24"}},"bank_account_details":"3"}
    [:updated_by] => 15
    [:updated_date] => 2019-02-17 18:14:35
)
 
 Result 1


[2019-02-17 18:14:36]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 18:14:36]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:14:36]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:14:36]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 18:14:36]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 18:16:42]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 18:16:42]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:16:42]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:16:42]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 18:16:42]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 18:17:18]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"add_edit_service_request","data":{"service_no":"","service_data":{"category_id":"218","employer_id":"1","description":"2","unit_price":"4","qty":"5","amount":"20.00","sst":"0","total_amount":"20.00","bank_account_details":"3","date_required":"","status_id":"223","raise_invoice":{"client_id":"1","contact_person":"1","payment_terms":"225"},"payment":{"payable_to":""},"advance_loan":{"number_of_repayment":"","each_repayment_amount":"","advance_or_loan":"","current_balance_advance_or_loan":""},"assets":{"type_of_assets":"","duration":"","remarks":""},"attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"approval_verify":null,"remark_list":null},"emp_id":"15"}}


[2019-02-17 18:17:18]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:17:18]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:17:18]
Function Details: add_edit_service_request 
 Param Details : 
{"service_no":"","service_data":{"category_id":"218","employer_id":"1","description":"2","unit_price":"4","qty":"5","amount":"20.00","sst":"0","total_amount":"20.00","bank_account_details":"3","date_required":"","status_id":"223","raise_invoice":{"client_id":"1","contact_person":"1","payment_terms":"225"},"payment":{"payable_to":""},"advance_loan":{"number_of_repayment":"","each_repayment_amount":"","advance_or_loan":"","current_balance_advance_or_loan":""},"assets":{"type_of_assets":"","duration":"","remarks":""},"attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"approval_verify":null,"remark_list":null},"emp_id":"15"}


[2019-02-17 18:17:18]
Function Details: get_doc_primary_no 
 Param Details : 
"service_no cms_service_request"


[2019-02-17 18:17:18]
Function Details: db_query
 Param Details: 
SELECT prefix,sequence_digit FROM cms_master_employer WHERE id = 1


[2019-02-17 18:17:18]
Function Details: db_query
 Param Details: 
SELECT IFNULL( CONCAT( RIGHT(YEAR(NOW()),2),'-',  LPAD(  SUBSTRING_INDEX(MAX(service_no),'-',-1) + 1 ,5,REPEAT('0', 5))), CONCAT( RIGHT(YEAR(NOW()),2),'-',  CONCAT( REPEAT('0', 5-1),'1')    )) AS service_no  FROM cms_service_request WHERE YEAR(created_date) = YEAR(NOW()) ORDER BY service_no desc limit 0,1


[2019-02-17 18:17:18]
Function Details: is_data_exist 
 Param Details : 
"cms_service_request service_no MSP19-00001"


[2019-02-17 18:17:18]
Function Details: db_query
 Param Details: 
SELECT count(*) as id_count FROM cms_service_request WHERE service_no = 'MSP19-00001'


[2019-02-17 18:17:19]
Function Details: db_add
 Param Details: 
 Array
(
    [:service_no] => MSP19-00001
    [:sr_data] => {"category_id":"218","employer_id":"1","description":"2","unit_price":"4","qty":"5","amount":"20.00","sst":"0","total_amount":"20.00","bank_account_details":"3","date_required":"","status_id":"223","raise_invoice":{"client_id":"1","contact_person":"1","payment_terms":"225"},"payment":{"payable_to":""},"advance_loan":{"number_of_repayment":"","each_repayment_amount":"","advance_or_loan":"","current_balance_advance_or_loan":""},"assets":{"type_of_assets":"","duration":"","remarks":""},"attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"approval_verify":null,"remark_list":null}
    [:created_by] => 15
    [:created_date] => 2019-02-17 18:17:18
)
 
 Result 1


[2019-02-17 18:17:19]
Business Layer: 


[2019-02-17 18:17:19]
Business Layer: 


[2019-02-17 18:17:19]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"send_email_verifier_approver_service_request","data":{"service_no":"MSP19-00001","module_id":"18","emp_id":"15","email_type":0,"attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"]}}


[2019-02-17 18:17:19]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:17:19]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:17:19]
Function Details: db_query
 Param Details: 
SELECT template_content FROM cms_master_template WHERE id = 31


[2019-02-17 18:17:20]
Function Details: db_query
 Param Details: 
SELECT cms_master_list.descr as category,cms_employees.office_email as created_by_email FROM cms_service_request 
                                      INNER JOIN cms_employees ON cms_service_request.created_by = cms_employees.id
                                      LEFT JOIN cms_master_list ON JSON_UNQUOTE(cms_service_request.sr_data->"$.category_id") = cms_master_list.id WHERE service_no='MSP19-00001'


[2019-02-17 18:17:20]
Function Details: db_query
 Param Details: 
SELECT office_email FROM cms_employees WHERE id='15'


[2019-02-17 18:17:20]
Function Details: get_mail_signature 
 Param Details : 
"sancheev@gmail.com"


[2019-02-17 18:17:20]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT cms_employees.name, cms_master_employer.mail_signature, 
									cms_employees.device_info, cms_employees.device_id
									FROM cms_employees
									LEFT JOIN cms_master_employer ON cms_employees.employer_id = cms_master_employer.id
									WHERE cms_employees.office_email in('sancheev@gmail.com') AND cms_employees.is_active = 1


[2019-02-17 18:17:21]
Function Details: get_verifier_approver 
 Param Details : 
"18"


[2019-02-17 18:17:21]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT group_concat(office_email SEPARATOR ';') as email
									FROM cms_employees
									INNER JOIN cms_employees_access ON cms_employees.id =  cms_employees_access.emp_id
									WHERE cms_employees_access.module_id = 18 AND verify_it = 1 AND approve_it = 1 AND cms_employees.is_active = 1


[2019-02-17 18:17:28]
Function Details: smtpmailer 
 Param Details : 
"Email Sent : sancheev@gmail.com CC'ed : sancheev@gmail.com"


[2019-02-17 18:17:37]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 18:17:37]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:17:37]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:17:37]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 18:17:37]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 18:18:45]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"add_edit_service_request","data":{"service_no":"MSP19-00001","service_data":{"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":""},"status_id":"223","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"unit_price":"4","category_id":"218","description":"2","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"1"},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:18:42"},"approve":{"approved":null,"approved_by":null,"approved_date":null}},"bank_account_details":"3"},"emp_id":"15"}}


[2019-02-17 18:18:45]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:18:45]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:18:45]
Function Details: add_edit_service_request 
 Param Details : 
{"service_no":"MSP19-00001","service_data":{"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":""},"status_id":"223","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"unit_price":"4","category_id":"218","description":"2","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"1"},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:18:42"},"approve":{"approved":null,"approved_by":null,"approved_date":null}},"bank_account_details":"3"},"emp_id":"15"}


[2019-02-17 18:18:45]
Function Details: is_data_exist 
 Param Details : 
"cms_service_request service_no MSP19-00001"


[2019-02-17 18:18:45]
Function Details: db_query
 Param Details: 
SELECT count(*) as id_count FROM cms_service_request WHERE service_no = 'MSP19-00001'


[2019-02-17 18:18:45]
Function Details: db_update
 Param Details: 
   		UPDATE cms_service_request SET service_no = :service_no, sr_data = :sr_data, updated_by = :updated_by, updated_date = :updated_date WHERE service_no = :service_no 


[2019-02-17 18:18:46]
Function Details: db_update
 Param Details: 
 Array
(
    [:service_no] => MSP19-00001
    [:sr_data] => {"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":""},"status_id":"223","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"unit_price":"4","category_id":"218","description":"2","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"1"},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:18:42"},"approve":{"approved":null,"approved_by":null,"approved_date":null}},"bank_account_details":"3"}
    [:updated_by] => 15
    [:updated_date] => 2019-02-17 18:18:45
)
 
 Result 1


[2019-02-17 18:18:46]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 18:18:46]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:18:46]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:18:46]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 18:18:46]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 18:18:53]
Function Details: db_query
 Param Details: 
SELECT id,name,office_email FROM cms_employees WHERE id =15 AND is_active = 1


[2019-02-17 18:18:53]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 39


[2019-02-17 18:18:53]
Function Details: db_query
 Param Details: 
SELECT id,employer_name FROM cms_master_employer WHERE is_active = 1


[2019-02-17 18:18:53]
Function Details: db_query
 Param Details: 
SELECT id,name FROM cms_clients WHERE is_active = 1


[2019-02-17 18:18:53]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 40


[2019-02-17 18:18:53]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 5


[2019-02-17 18:18:53]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 20


[2019-02-17 18:18:54]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 18:18:54]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:18:54]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:18:54]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 18:18:54]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 18:18:58]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"send_email_verifier_approver_service_request","data":{"service_no":"MSP19-00001","module_id":"18","emp_id":"15","email_type":2,"attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"]}}


[2019-02-17 18:18:58]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:18:58]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"add_edit_service_request","data":{"service_no":"MSP19-00001","service_data":{"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":""},"status_id":"224","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"unit_price":"4","category_id":"218","description":"2","employer_id":"1","remark_list":[{"remarks":"Completed","created_by":"Jamal Ali","created_date":"2019-02-17 18:18:58"}],"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"1"},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:18:42"},"approve":{"approved":1,"approved_by":"15","approved_date":"2019-02-17 18:18:58"}},"bank_account_details":"3"},"emp_id":"15"}}


[2019-02-17 18:18:58]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:18:58]
Function Details: db_query
 Param Details: 
SELECT template_content FROM cms_master_template WHERE id = 32


[2019-02-17 18:18:58]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:18:58]
Function Details: db_query
 Param Details: 
SELECT cms_master_list.descr as category,cms_employees.office_email as created_by_email FROM cms_service_request 
                                      INNER JOIN cms_employees ON cms_service_request.created_by = cms_employees.id
                                      LEFT JOIN cms_master_list ON JSON_UNQUOTE(cms_service_request.sr_data->"$.category_id") = cms_master_list.id WHERE service_no='MSP19-00001'


[2019-02-17 18:18:58]
Function Details: add_edit_service_request 
 Param Details : 
{"service_no":"MSP19-00001","service_data":{"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":""},"status_id":"224","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"unit_price":"4","category_id":"218","description":"2","employer_id":"1","remark_list":[{"remarks":"Completed","created_by":"Jamal Ali","created_date":"2019-02-17 18:18:58"}],"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"1"},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:18:42"},"approve":{"approved":1,"approved_by":"15","approved_date":"2019-02-17 18:18:58"}},"bank_account_details":"3"},"emp_id":"15"}


[2019-02-17 18:18:58]
Function Details: db_query
 Param Details: 
SELECT office_email FROM cms_employees WHERE id='15'


[2019-02-17 18:18:58]
Function Details: is_data_exist 
 Param Details : 
"cms_service_request service_no MSP19-00001"


[2019-02-17 18:18:58]
Function Details: get_mail_signature 
 Param Details : 
"sancheev@gmail.com"


[2019-02-17 18:18:58]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT cms_employees.name, cms_master_employer.mail_signature, 
									cms_employees.device_info, cms_employees.device_id
									FROM cms_employees
									LEFT JOIN cms_master_employer ON cms_employees.employer_id = cms_master_employer.id
									WHERE cms_employees.office_email in('sancheev@gmail.com') AND cms_employees.is_active = 1


[2019-02-17 18:18:58]
Function Details: db_query
 Param Details: 
SELECT count(*) as id_count FROM cms_service_request WHERE service_no = 'MSP19-00001'


[2019-02-17 18:18:58]
Function Details: db_update
 Param Details: 
   		UPDATE cms_service_request SET service_no = :service_no, sr_data = :sr_data, updated_by = :updated_by, updated_date = :updated_date WHERE service_no = :service_no 


[2019-02-17 18:18:59]
Function Details: get_verifier_approver 
 Param Details : 
"18"


[2019-02-17 18:18:59]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT group_concat(office_email SEPARATOR ';') as email
									FROM cms_employees
									INNER JOIN cms_employees_access ON cms_employees.id =  cms_employees_access.emp_id
									WHERE cms_employees_access.module_id = 18 AND verify_it = 1 AND approve_it = 1 AND cms_employees.is_active = 1


[2019-02-17 18:18:59]
Function Details: db_update
 Param Details: 
 Array
(
    [:service_no] => MSP19-00001
    [:sr_data] => {"qty":"5","sst":"0","amount":"20.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":""},"status_id":"224","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"unit_price":"4","category_id":"218","description":"2","employer_id":"1","remark_list":[{"remarks":"Completed","created_by":"Jamal Ali","created_date":"2019-02-17 18:18:58"}],"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"20.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"1"},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:18:42"},"approve":{"approved":1,"approved_by":"15","approved_date":"2019-02-17 18:18:58"}},"bank_account_details":"3"}
    [:updated_by] => 15
    [:updated_date] => 2019-02-17 18:18:58
)
 
 Result 1


[2019-02-17 18:18:59]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 18:18:59]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:18:59]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:18:59]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 18:18:59]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 18:19:06]
Function Details: smtpmailer 
 Param Details : 
"Email Sent : sancheev@gmail.com CC'ed : sancheev@gmail.com"


[2019-02-17 18:19:50]
Function Details: db_query
 Param Details: 
SELECT id,name,office_email FROM cms_employees WHERE id =15 AND is_active = 1


[2019-02-17 18:19:50]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 39


[2019-02-17 18:19:50]
Function Details: db_query
 Param Details: 
SELECT id,employer_name FROM cms_master_employer WHERE is_active = 1


[2019-02-17 18:19:50]
Function Details: db_query
 Param Details: 
SELECT id,name FROM cms_clients WHERE is_active = 1


[2019-02-17 18:19:50]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 40


[2019-02-17 18:19:50]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 5


[2019-02-17 18:19:50]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 20


[2019-02-17 18:19:52]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 18:19:52]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:19:52]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:19:52]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 18:19:52]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 18:20:17]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"add_edit_service_request","data":{"service_no":"","service_data":{"category_id":"219","employer_id":"1","description":"1","unit_price":"4","qty":"4","amount":"16.00","sst":"0","total_amount":"16.00","bank_account_details":"3","date_required":"","status_id":"223","raise_invoice":{"client_id":"","contact_person":"","payment_terms":""},"payment":{"payable_to":"4"},"advance_loan":{"number_of_repayment":"","each_repayment_amount":"","advance_or_loan":"","current_balance_advance_or_loan":""},"assets":{"type_of_assets":"","duration":"","remarks":""},"attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"approval_verify":null,"remark_list":null},"emp_id":"15"}}


[2019-02-17 18:20:17]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:20:17]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:20:17]
Function Details: add_edit_service_request 
 Param Details : 
{"service_no":"","service_data":{"category_id":"219","employer_id":"1","description":"1","unit_price":"4","qty":"4","amount":"16.00","sst":"0","total_amount":"16.00","bank_account_details":"3","date_required":"","status_id":"223","raise_invoice":{"client_id":"","contact_person":"","payment_terms":""},"payment":{"payable_to":"4"},"advance_loan":{"number_of_repayment":"","each_repayment_amount":"","advance_or_loan":"","current_balance_advance_or_loan":""},"assets":{"type_of_assets":"","duration":"","remarks":""},"attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"approval_verify":null,"remark_list":null},"emp_id":"15"}


[2019-02-17 18:20:17]
Function Details: get_doc_primary_no 
 Param Details : 
"service_no cms_service_request"


[2019-02-17 18:20:17]
Function Details: db_query
 Param Details: 
SELECT prefix,sequence_digit FROM cms_master_employer WHERE id = 1


[2019-02-17 18:20:17]
Function Details: db_query
 Param Details: 
SELECT IFNULL( CONCAT( RIGHT(YEAR(NOW()),2),'-',  LPAD(  SUBSTRING_INDEX(MAX(service_no),'-',-1) + 1 ,5,REPEAT('0', 5))), CONCAT( RIGHT(YEAR(NOW()),2),'-',  CONCAT( REPEAT('0', 5-1),'1')    )) AS service_no  FROM cms_service_request WHERE YEAR(created_date) = YEAR(NOW()) ORDER BY service_no desc limit 0,1


[2019-02-17 18:20:17]
Function Details: is_data_exist 
 Param Details : 
"cms_service_request service_no MSP19-00002"


[2019-02-17 18:20:17]
Function Details: db_query
 Param Details: 
SELECT count(*) as id_count FROM cms_service_request WHERE service_no = 'MSP19-00002'


[2019-02-17 18:20:18]
Function Details: db_add
 Param Details: 
 Array
(
    [:service_no] => MSP19-00002
    [:sr_data] => {"category_id":"219","employer_id":"1","description":"1","unit_price":"4","qty":"4","amount":"16.00","sst":"0","total_amount":"16.00","bank_account_details":"3","date_required":"","status_id":"223","raise_invoice":{"client_id":"","contact_person":"","payment_terms":""},"payment":{"payable_to":"4"},"advance_loan":{"number_of_repayment":"","each_repayment_amount":"","advance_or_loan":"","current_balance_advance_or_loan":""},"assets":{"type_of_assets":"","duration":"","remarks":""},"attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"approval_verify":null,"remark_list":null}
    [:created_by] => 15
    [:created_date] => 2019-02-17 18:20:17
)
 
 Result 1


[2019-02-17 18:20:18]
Business Layer: 


[2019-02-17 18:20:18]
Business Layer: 


[2019-02-17 18:20:19]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"send_email_verifier_approver_service_request","data":{"service_no":"MSP19-00002","module_id":"18","emp_id":"15","email_type":0,"attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"]}}


[2019-02-17 18:20:19]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:20:19]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:20:19]
Function Details: db_query
 Param Details: 
SELECT template_content FROM cms_master_template WHERE id = 31


[2019-02-17 18:20:19]
Function Details: db_query
 Param Details: 
SELECT cms_master_list.descr as category,cms_employees.office_email as created_by_email FROM cms_service_request 
                                      INNER JOIN cms_employees ON cms_service_request.created_by = cms_employees.id
                                      LEFT JOIN cms_master_list ON JSON_UNQUOTE(cms_service_request.sr_data->"$.category_id") = cms_master_list.id WHERE service_no='MSP19-00002'


[2019-02-17 18:20:19]
Function Details: db_query
 Param Details: 
SELECT office_email FROM cms_employees WHERE id='15'


[2019-02-17 18:20:19]
Function Details: get_mail_signature 
 Param Details : 
"sancheev@gmail.com"


[2019-02-17 18:20:19]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT cms_employees.name, cms_master_employer.mail_signature, 
									cms_employees.device_info, cms_employees.device_id
									FROM cms_employees
									LEFT JOIN cms_master_employer ON cms_employees.employer_id = cms_master_employer.id
									WHERE cms_employees.office_email in('sancheev@gmail.com') AND cms_employees.is_active = 1


[2019-02-17 18:20:20]
Function Details: get_verifier_approver 
 Param Details : 
"18"


[2019-02-17 18:20:20]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT group_concat(office_email SEPARATOR ';') as email
									FROM cms_employees
									INNER JOIN cms_employees_access ON cms_employees.id =  cms_employees_access.emp_id
									WHERE cms_employees_access.module_id = 18 AND verify_it = 1 AND approve_it = 1 AND cms_employees.is_active = 1


[2019-02-17 18:20:26]
Function Details: smtpmailer 
 Param Details : 
"Email Sent : sancheev@gmail.com CC'ed : sancheev@gmail.com"


[2019-02-17 18:21:44]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 18:21:44]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:21:44]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:21:44]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 18:21:44]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 18:21:47]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_details","data":{"service_no":"MSP19-00002"}}


[2019-02-17 18:21:47]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:21:47]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:21:47]
Function Details: get_service_request_details 
 Param Details : 
{"service_no":"MSP19-00002"}


[2019-02-17 18:21:47]
Function Details: db_query
 Param Details: 
SELECT 					
						service_no
				        , sr_data
				        , concat('http://127.0.0.1:8000/mspdoc_bare/services/files/', 'service_request', '/',service_no, '/') as filepath
				        , created_date
				        , created_by
						, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name			
					 FROM cms_service_request WHERE service_no = 'MSP19-00002'


[2019-02-17 18:21:51]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"add_edit_service_request","data":{"service_no":"MSP19-00002","service_data":{"qty":"4","sst":"0","amount":"16.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":"4"},"status_id":"223","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"unit_price":"4","category_id":"219","description":"1","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"16.00","date_required":"","raise_invoice":{"client_id":"","payment_terms":"","contact_person":""},"approval_verify":null,"bank_account_details":"3"},"emp_id":"15"}}


[2019-02-17 18:21:51]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:21:51]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:21:51]
Function Details: add_edit_service_request 
 Param Details : 
{"service_no":"MSP19-00002","service_data":{"qty":"4","sst":"0","amount":"16.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":"4"},"status_id":"223","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"unit_price":"4","category_id":"219","description":"1","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"16.00","date_required":"","raise_invoice":{"client_id":"","payment_terms":"","contact_person":""},"approval_verify":null,"bank_account_details":"3"},"emp_id":"15"}


[2019-02-17 18:21:51]
Function Details: is_data_exist 
 Param Details : 
"cms_service_request service_no MSP19-00002"


[2019-02-17 18:21:51]
Function Details: db_query
 Param Details: 
SELECT count(*) as id_count FROM cms_service_request WHERE service_no = 'MSP19-00002'


[2019-02-17 18:21:51]
Function Details: db_update
 Param Details: 
   		UPDATE cms_service_request SET service_no = :service_no, sr_data = :sr_data, updated_by = :updated_by, updated_date = :updated_date WHERE service_no = :service_no 


[2019-02-17 18:21:52]
Function Details: db_update
 Param Details: 
 Array
(
    [:service_no] => MSP19-00002
    [:sr_data] => {"qty":"4","sst":"0","amount":"16.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":"4"},"status_id":"223","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"unit_price":"4","category_id":"219","description":"1","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"16.00","date_required":"","raise_invoice":{"client_id":"","payment_terms":"","contact_person":""},"approval_verify":null,"bank_account_details":"3"}
    [:updated_by] => 15
    [:updated_date] => 2019-02-17 18:21:51
)
 
 Result 1


[2019-02-17 18:21:52]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"send_email_verifier_approver_service_request","data":{"service_no":"MSP19-00002","module_id":"18","emp_id":"15","email_type":0,"attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"]}}


[2019-02-17 18:21:52]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:21:52]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:21:52]
Function Details: db_query
 Param Details: 
SELECT template_content FROM cms_master_template WHERE id = 31


[2019-02-17 18:21:52]
Function Details: db_query
 Param Details: 
SELECT cms_master_list.descr as category,cms_employees.office_email as created_by_email FROM cms_service_request 
                                      INNER JOIN cms_employees ON cms_service_request.created_by = cms_employees.id
                                      LEFT JOIN cms_master_list ON JSON_UNQUOTE(cms_service_request.sr_data->"$.category_id") = cms_master_list.id WHERE service_no='MSP19-00002'


[2019-02-17 18:21:52]
Function Details: db_query
 Param Details: 
SELECT office_email FROM cms_employees WHERE id='15'


[2019-02-17 18:21:52]
Function Details: get_mail_signature 
 Param Details : 
"sancheev@gmail.com"


[2019-02-17 18:21:52]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT cms_employees.name, cms_master_employer.mail_signature, 
									cms_employees.device_info, cms_employees.device_id
									FROM cms_employees
									LEFT JOIN cms_master_employer ON cms_employees.employer_id = cms_master_employer.id
									WHERE cms_employees.office_email in('sancheev@gmail.com') AND cms_employees.is_active = 1


[2019-02-17 18:21:53]
Function Details: get_verifier_approver 
 Param Details : 
"18"


[2019-02-17 18:21:53]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT group_concat(office_email SEPARATOR ';') as email
									FROM cms_employees
									INNER JOIN cms_employees_access ON cms_employees.id =  cms_employees_access.emp_id
									WHERE cms_employees_access.module_id = 18 AND verify_it = 1 AND approve_it = 1 AND cms_employees.is_active = 1


[2019-02-17 18:22:00]
Function Details: smtpmailer 
 Param Details : 
"Email Sent : sancheev@gmail.com CC'ed : sancheev@gmail.com"


[2019-02-17 18:26:10]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"add_edit_service_request","data":{"service_no":"MSP19-00002","service_data":{"qty":"4","sst":"0","amount":"16.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":"4"},"status_id":"223","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"unit_price":"4","category_id":"219","description":"1","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"16.00","date_required":"","raise_invoice":{"client_id":"","payment_terms":"","contact_person":""},"approval_verify":null,"bank_account_details":"3"},"emp_id":"15"}}


[2019-02-17 18:26:10]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:26:10]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:26:10]
Function Details: add_edit_service_request 
 Param Details : 
{"service_no":"MSP19-00002","service_data":{"qty":"4","sst":"0","amount":"16.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":"4"},"status_id":"223","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"unit_price":"4","category_id":"219","description":"1","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"16.00","date_required":"","raise_invoice":{"client_id":"","payment_terms":"","contact_person":""},"approval_verify":null,"bank_account_details":"3"},"emp_id":"15"}


[2019-02-17 18:26:10]
Function Details: is_data_exist 
 Param Details : 
"cms_service_request service_no MSP19-00002"


[2019-02-17 18:26:10]
Function Details: db_query
 Param Details: 
SELECT count(*) as id_count FROM cms_service_request WHERE service_no = 'MSP19-00002'


[2019-02-17 18:26:10]
Function Details: db_update
 Param Details: 
   		UPDATE cms_service_request SET service_no = :service_no, sr_data = :sr_data, updated_by = :updated_by, updated_date = :updated_date WHERE service_no = :service_no 


[2019-02-17 18:26:12]
Function Details: db_update
 Param Details: 
 Array
(
    [:service_no] => MSP19-00002
    [:sr_data] => {"qty":"4","sst":"0","amount":"16.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":"4"},"status_id":"223","attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"],"unit_price":"4","category_id":"219","description":"1","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"16.00","date_required":"","raise_invoice":{"client_id":"","payment_terms":"","contact_person":""},"approval_verify":null,"bank_account_details":"3"}
    [:updated_by] => 15
    [:updated_date] => 2019-02-17 18:26:10
)
 
 Result 1


[2019-02-17 18:26:22]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"send_email_verifier_approver_service_request","data":{"service_no":"MSP19-00002","module_id":"18","emp_id":"15","email_type":0,"attachment":["IA RPP IBFT DuitNow Menu_WD version.xlsx","lang_updated.xls"]}}


[2019-02-17 18:26:22]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:26:22]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:26:22]
Function Details: db_query
 Param Details: 
SELECT template_content FROM cms_master_template WHERE id = 31


[2019-02-17 18:26:22]
Function Details: db_query
 Param Details: 
SELECT cms_master_list.descr as category,cms_employees.office_email as created_by_email FROM cms_service_request 
                                      INNER JOIN cms_employees ON cms_service_request.created_by = cms_employees.id
                                      LEFT JOIN cms_master_list ON JSON_UNQUOTE(cms_service_request.sr_data->"$.category_id") = cms_master_list.id WHERE service_no='MSP19-00002'


[2019-02-17 18:26:22]
Function Details: db_query
 Param Details: 
SELECT office_email FROM cms_employees WHERE id='15'


[2019-02-17 18:26:22]
Function Details: get_mail_signature 
 Param Details : 
"sancheev@gmail.com"


[2019-02-17 18:26:22]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT cms_employees.name, cms_master_employer.mail_signature, 
									cms_employees.device_info, cms_employees.device_id
									FROM cms_employees
									LEFT JOIN cms_master_employer ON cms_employees.employer_id = cms_master_employer.id
									WHERE cms_employees.office_email in('sancheev@gmail.com') AND cms_employees.is_active = 1


[2019-02-17 18:26:23]
Function Details: get_verifier_approver 
 Param Details : 
"18"


[2019-02-17 18:26:23]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT group_concat(office_email SEPARATOR ';') as email
									FROM cms_employees
									INNER JOIN cms_employees_access ON cms_employees.id =  cms_employees_access.emp_id
									WHERE cms_employees_access.module_id = 18 AND verify_it = 1 AND approve_it = 1 AND cms_employees.is_active = 1


[2019-02-17 18:26:30]
Function Details: smtpmailer 
 Param Details : 
"Email Sent : sancheev@gmail.com CC'ed : sancheev@gmail.com"


[2019-02-17 18:26:33]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 18:26:33]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:26:33]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:26:33]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 18:26:33]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 18:27:03]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"add_edit_service_request","data":{"service_no":"","service_data":{"category_id":"218","employer_id":"1","description":"2","unit_price":"2","qty":"2","amount":"4.00","sst":"0","total_amount":"4.00","bank_account_details":"2","date_required":"","status_id":"222","raise_invoice":{"client_id":"1","contact_person":"2","payment_terms":"225"},"payment":{"payable_to":""},"advance_loan":{"number_of_repayment":"","each_repayment_amount":"","advance_or_loan":"","current_balance_advance_or_loan":""},"assets":{"type_of_assets":"","duration":"","remarks":""},"attachment":["lang_updated.xls","IME Malaysia Online.pdf"],"approval_verify":null,"remark_list":null},"emp_id":"15"}}


[2019-02-17 18:27:03]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:27:03]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:27:03]
Function Details: add_edit_service_request 
 Param Details : 
{"service_no":"","service_data":{"category_id":"218","employer_id":"1","description":"2","unit_price":"2","qty":"2","amount":"4.00","sst":"0","total_amount":"4.00","bank_account_details":"2","date_required":"","status_id":"222","raise_invoice":{"client_id":"1","contact_person":"2","payment_terms":"225"},"payment":{"payable_to":""},"advance_loan":{"number_of_repayment":"","each_repayment_amount":"","advance_or_loan":"","current_balance_advance_or_loan":""},"assets":{"type_of_assets":"","duration":"","remarks":""},"attachment":["lang_updated.xls","IME Malaysia Online.pdf"],"approval_verify":null,"remark_list":null},"emp_id":"15"}


[2019-02-17 18:27:03]
Function Details: get_doc_primary_no 
 Param Details : 
"service_no cms_service_request"


[2019-02-17 18:27:03]
Function Details: db_query
 Param Details: 
SELECT prefix,sequence_digit FROM cms_master_employer WHERE id = 1


[2019-02-17 18:27:03]
Function Details: db_query
 Param Details: 
SELECT IFNULL( CONCAT( RIGHT(YEAR(NOW()),2),'-',  LPAD(  SUBSTRING_INDEX(MAX(service_no),'-',-1) + 1 ,5,REPEAT('0', 5))), CONCAT( RIGHT(YEAR(NOW()),2),'-',  CONCAT( REPEAT('0', 5-1),'1')    )) AS service_no  FROM cms_service_request WHERE YEAR(created_date) = YEAR(NOW()) ORDER BY service_no desc limit 0,1


[2019-02-17 18:27:03]
Function Details: is_data_exist 
 Param Details : 
"cms_service_request service_no MSP19-00003"


[2019-02-17 18:27:03]
Function Details: db_query
 Param Details: 
SELECT count(*) as id_count FROM cms_service_request WHERE service_no = 'MSP19-00003'


[2019-02-17 18:27:04]
Function Details: db_add
 Param Details: 
 Array
(
    [:service_no] => MSP19-00003
    [:sr_data] => {"category_id":"218","employer_id":"1","description":"2","unit_price":"2","qty":"2","amount":"4.00","sst":"0","total_amount":"4.00","bank_account_details":"2","date_required":"","status_id":"222","raise_invoice":{"client_id":"1","contact_person":"2","payment_terms":"225"},"payment":{"payable_to":""},"advance_loan":{"number_of_repayment":"","each_repayment_amount":"","advance_or_loan":"","current_balance_advance_or_loan":""},"assets":{"type_of_assets":"","duration":"","remarks":""},"attachment":["lang_updated.xls","IME Malaysia Online.pdf"],"approval_verify":null,"remark_list":null}
    [:created_by] => 15
    [:created_date] => 2019-02-17 18:27:03
)
 
 Result 1


[2019-02-17 18:27:04]
Business Layer: 


[2019-02-17 18:27:04]
Business Layer: 


[2019-02-17 18:27:09]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"add_edit_service_request","data":{"service_no":"MSP19-00003","service_data":{"category_id":"218","employer_id":"1","description":"2","unit_price":"2","qty":"2","amount":"4.00","sst":"0","total_amount":"4.00","bank_account_details":"2","date_required":"","status_id":"223","raise_invoice":{"client_id":"1","contact_person":"2","payment_terms":"225"},"payment":{"payable_to":""},"advance_loan":{"number_of_repayment":"","each_repayment_amount":"","advance_or_loan":"","current_balance_advance_or_loan":""},"assets":{"type_of_assets":"","duration":"","remarks":""},"attachment":["lang_updated.xls","IME Malaysia Online.pdf"],"approval_verify":null,"remark_list":null},"emp_id":"15"}}


[2019-02-17 18:27:09]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:27:09]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:27:09]
Function Details: add_edit_service_request 
 Param Details : 
{"service_no":"MSP19-00003","service_data":{"category_id":"218","employer_id":"1","description":"2","unit_price":"2","qty":"2","amount":"4.00","sst":"0","total_amount":"4.00","bank_account_details":"2","date_required":"","status_id":"223","raise_invoice":{"client_id":"1","contact_person":"2","payment_terms":"225"},"payment":{"payable_to":""},"advance_loan":{"number_of_repayment":"","each_repayment_amount":"","advance_or_loan":"","current_balance_advance_or_loan":""},"assets":{"type_of_assets":"","duration":"","remarks":""},"attachment":["lang_updated.xls","IME Malaysia Online.pdf"],"approval_verify":null,"remark_list":null},"emp_id":"15"}


[2019-02-17 18:27:09]
Function Details: is_data_exist 
 Param Details : 
"cms_service_request service_no MSP19-00003"


[2019-02-17 18:27:09]
Function Details: db_query
 Param Details: 
SELECT count(*) as id_count FROM cms_service_request WHERE service_no = 'MSP19-00003'


[2019-02-17 18:27:09]
Function Details: db_update
 Param Details: 
   		UPDATE cms_service_request SET service_no = :service_no, sr_data = :sr_data, updated_by = :updated_by, updated_date = :updated_date WHERE service_no = :service_no 


[2019-02-17 18:27:10]
Function Details: db_update
 Param Details: 
 Array
(
    [:service_no] => MSP19-00003
    [:sr_data] => {"category_id":"218","employer_id":"1","description":"2","unit_price":"2","qty":"2","amount":"4.00","sst":"0","total_amount":"4.00","bank_account_details":"2","date_required":"","status_id":"223","raise_invoice":{"client_id":"1","contact_person":"2","payment_terms":"225"},"payment":{"payable_to":""},"advance_loan":{"number_of_repayment":"","each_repayment_amount":"","advance_or_loan":"","current_balance_advance_or_loan":""},"assets":{"type_of_assets":"","duration":"","remarks":""},"attachment":["lang_updated.xls","IME Malaysia Online.pdf"],"approval_verify":null,"remark_list":null}
    [:updated_by] => 15
    [:updated_date] => 2019-02-17 18:27:09
)
 
 Result 1


[2019-02-17 18:27:10]
Business Layer: 


[2019-02-17 18:27:10]
Business Layer: 


[2019-02-17 18:27:15]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"send_email_verifier_approver_service_request","data":{"service_no":"MSP19-00003","module_id":"18","emp_id":"15","email_type":0,"attachment":["lang_updated.xls","IME Malaysia Online.pdf"]}}


[2019-02-17 18:27:15]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:27:15]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:27:15]
Function Details: db_query
 Param Details: 
SELECT template_content FROM cms_master_template WHERE id = 31


[2019-02-17 18:27:15]
Function Details: db_query
 Param Details: 
SELECT cms_master_list.descr as category,cms_employees.office_email as created_by_email FROM cms_service_request 
                                      INNER JOIN cms_employees ON cms_service_request.created_by = cms_employees.id
                                      LEFT JOIN cms_master_list ON JSON_UNQUOTE(cms_service_request.sr_data->"$.category_id") = cms_master_list.id WHERE service_no='MSP19-00003'


[2019-02-17 18:27:15]
Function Details: db_query
 Param Details: 
SELECT office_email FROM cms_employees WHERE id='15'


[2019-02-17 18:27:15]
Function Details: get_mail_signature 
 Param Details : 
"sancheev@gmail.com"


[2019-02-17 18:27:15]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT cms_employees.name, cms_master_employer.mail_signature, 
									cms_employees.device_info, cms_employees.device_id
									FROM cms_employees
									LEFT JOIN cms_master_employer ON cms_employees.employer_id = cms_master_employer.id
									WHERE cms_employees.office_email in('sancheev@gmail.com') AND cms_employees.is_active = 1


[2019-02-17 18:27:16]
Function Details: get_verifier_approver 
 Param Details : 
"18"


[2019-02-17 18:27:16]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT group_concat(office_email SEPARATOR ';') as email
									FROM cms_employees
									INNER JOIN cms_employees_access ON cms_employees.id =  cms_employees_access.emp_id
									WHERE cms_employees_access.module_id = 18 AND verify_it = 1 AND approve_it = 1 AND cms_employees.is_active = 1


[2019-02-17 18:27:18]
Function Details: smtpmailer 
 Param Details : 
"Email Sent : sancheev@gmail.com CC'ed : sancheev@gmail.com"


[2019-02-17 18:27:43]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 18:27:43]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:27:43]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:27:43]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 18:27:43]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 18:28:08]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"add_edit_service_request","data":{"service_no":"","service_data":{"category_id":"220","employer_id":"1","description":"1","unit_price":"","qty":"","amount":"2","sst":"","total_amount":"","bank_account_details":"","date_required":"12-02-2019","status_id":"223","raise_invoice":{"client_id":"","contact_person":"","payment_terms":""},"payment":{"payable_to":""},"advance_loan":{"number_of_repayment":"2","each_repayment_amount":"2","advance_or_loan":"2","current_balance_advance_or_loan":"2"},"assets":{"type_of_assets":"","duration":"","remarks":""},"attachment":["lang_updated.xls","IME Malaysia Online.pdf"],"approval_verify":null,"remark_list":null},"emp_id":"15"}}


[2019-02-17 18:28:08]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:28:08]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:28:08]
Function Details: add_edit_service_request 
 Param Details : 
{"service_no":"","service_data":{"category_id":"220","employer_id":"1","description":"1","unit_price":"","qty":"","amount":"2","sst":"","total_amount":"","bank_account_details":"","date_required":"12-02-2019","status_id":"223","raise_invoice":{"client_id":"","contact_person":"","payment_terms":""},"payment":{"payable_to":""},"advance_loan":{"number_of_repayment":"2","each_repayment_amount":"2","advance_or_loan":"2","current_balance_advance_or_loan":"2"},"assets":{"type_of_assets":"","duration":"","remarks":""},"attachment":["lang_updated.xls","IME Malaysia Online.pdf"],"approval_verify":null,"remark_list":null},"emp_id":"15"}


[2019-02-17 18:28:08]
Function Details: get_doc_primary_no 
 Param Details : 
"service_no cms_service_request"


[2019-02-17 18:28:08]
Function Details: db_query
 Param Details: 
SELECT prefix,sequence_digit FROM cms_master_employer WHERE id = 1


[2019-02-17 18:28:08]
Function Details: db_query
 Param Details: 
SELECT IFNULL( CONCAT( RIGHT(YEAR(NOW()),2),'-',  LPAD(  SUBSTRING_INDEX(MAX(service_no),'-',-1) + 1 ,5,REPEAT('0', 5))), CONCAT( RIGHT(YEAR(NOW()),2),'-',  CONCAT( REPEAT('0', 5-1),'1')    )) AS service_no  FROM cms_service_request WHERE YEAR(created_date) = YEAR(NOW()) ORDER BY service_no desc limit 0,1


[2019-02-17 18:28:08]
Function Details: is_data_exist 
 Param Details : 
"cms_service_request service_no MSP19-00004"


[2019-02-17 18:28:08]
Function Details: db_query
 Param Details: 
SELECT count(*) as id_count FROM cms_service_request WHERE service_no = 'MSP19-00004'


[2019-02-17 18:28:09]
Function Details: db_add
 Param Details: 
 Array
(
    [:service_no] => MSP19-00004
    [:sr_data] => {"category_id":"220","employer_id":"1","description":"1","unit_price":"","qty":"","amount":"2","sst":"","total_amount":"","bank_account_details":"","date_required":"12-02-2019","status_id":"223","raise_invoice":{"client_id":"","contact_person":"","payment_terms":""},"payment":{"payable_to":""},"advance_loan":{"number_of_repayment":"2","each_repayment_amount":"2","advance_or_loan":"2","current_balance_advance_or_loan":"2"},"assets":{"type_of_assets":"","duration":"","remarks":""},"attachment":["lang_updated.xls","IME Malaysia Online.pdf"],"approval_verify":null,"remark_list":null}
    [:created_by] => 15
    [:created_date] => 2019-02-17 18:28:08
)
 
 Result 1


[2019-02-17 18:28:09]
Business Layer: 


[2019-02-17 18:28:09]
Business Layer: 


[2019-02-17 18:28:20]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"send_email_verifier_approver_service_request","data":{"service_no":"MSP19-00004","module_id":"18","emp_id":"15","email_type":0,"attachment":["lang_updated.xls","IME Malaysia Online.pdf"]}}


[2019-02-17 18:28:20]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:28:20]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:28:20]
Function Details: db_query
 Param Details: 
SELECT template_content FROM cms_master_template WHERE id = 31


[2019-02-17 18:28:20]
Function Details: db_query
 Param Details: 
SELECT cms_master_list.descr as category,cms_employees.office_email as created_by_email FROM cms_service_request 
                                      INNER JOIN cms_employees ON cms_service_request.created_by = cms_employees.id
                                      LEFT JOIN cms_master_list ON JSON_UNQUOTE(cms_service_request.sr_data->"$.category_id") = cms_master_list.id WHERE service_no='MSP19-00004'


[2019-02-17 18:28:20]
Function Details: db_query
 Param Details: 
SELECT office_email FROM cms_employees WHERE id='15'


[2019-02-17 18:28:20]
Function Details: get_mail_signature 
 Param Details : 
"sancheev@gmail.com"


[2019-02-17 18:28:20]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT cms_employees.name, cms_master_employer.mail_signature, 
									cms_employees.device_info, cms_employees.device_id
									FROM cms_employees
									LEFT JOIN cms_master_employer ON cms_employees.employer_id = cms_master_employer.id
									WHERE cms_employees.office_email in('sancheev@gmail.com') AND cms_employees.is_active = 1


[2019-02-17 18:28:21]
Function Details: get_verifier_approver 
 Param Details : 
"18"


[2019-02-17 18:28:21]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT group_concat(office_email SEPARATOR ';') as email
									FROM cms_employees
									INNER JOIN cms_employees_access ON cms_employees.id =  cms_employees_access.emp_id
									WHERE cms_employees_access.module_id = 18 AND verify_it = 1 AND approve_it = 1 AND cms_employees.is_active = 1


[2019-02-17 18:28:22]
Function Details: smtpmailer 
 Param Details : 
"Email Sent : sancheev@gmail.com CC'ed : sancheev@gmail.com"


[2019-02-17 18:29:14]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 18:29:14]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:29:14]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:29:14]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 18:29:14]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 18:29:18]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"send_email_verifier_approver_service_request","data":{"service_no":"MSP19-00004","module_id":"18","emp_id":"15","email_type":1,"attachment":["lang_updated.xls","IME Malaysia Online.pdf"]}}


[2019-02-17 18:29:18]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:29:18]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:29:18]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"add_edit_service_request","data":{"service_no":"MSP19-00004","service_data":{"qty":"","sst":"","amount":"2","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":""},"status_id":"223","attachment":["lang_updated.xls","IME Malaysia Online.pdf"],"unit_price":"","category_id":"220","description":"1","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"2","number_of_repayment":"2","each_repayment_amount":"2","current_balance_advance_or_loan":"2"},"total_amount":"","date_required":"12-02-2019","raise_invoice":{"client_id":"","payment_terms":"","contact_person":""},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:29:16"},"approve":{"approved":null,"approved_by":null,"approved_date":null}},"bank_account_details":""},"emp_id":"15"}}


[2019-02-17 18:29:18]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:29:18]
Function Details: db_query
 Param Details: 
SELECT template_content FROM cms_master_template WHERE id = 32


[2019-02-17 18:29:18]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:29:18]
Function Details: add_eFunction Details: db_query
 Param Details: 
SELECT cms_master_list.descr as category,cms_employees.office_email as created_by_email FROM cms_service_request 
                                      INNER JOIN cms_employees ON cms_service_request.created_by = cms_employees.id
                                      LEFT JOIN cms_master_list ON JSON_UNQUOTE(cms_service_request.sr_data->"$.category_id") = cms_master_list.id WHERE service_no='MSP19-00004'nt":"2","current_balance_advance_or_loan":"2"},"total_amount":"","date_required":"12-02-2019","raise_invoice":{"client_id":"","payment_terms":"","contact_person":""},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:29:16"},"approve":{"approved":null,"approved_by":null,"approved_date":null}},"bank_account_details":""},"emp_id":"15"}


[2019-02-17 18:29:18]
Function Details: is_data_exist 
 Param Details : 
"cms_service_request service_no MSP19-00004"


[2019-02-17 18:29:18]
Function Details: db_query
 Param Details: 
SELECT office_email FROM cms_employees WHERE id='15'


[2019-02-17 18:29:18]
Function Details: db_query
 Param Details: 
SELECT count(*) as id_count FROM cms_service_request WHERE service_no = 'MSP19-00004'


[2019-02-17 18:29:18]
Function Details: get_mail_signature 
 Param Details : 
"sancheev@gmail.com"


[2019-02-17 18:29:19]
Function Details: db_update
 Param Details: 
   		UPDATE cms_service_request SET service_no = :service_no, sr_data = :sr_data, updated_by = :updated_by, updated_date = :updated_date WHERE service_no = :service_no 


[2019-02-17 18:29:19]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT cms_employees.name, cms_master_employer.mail_signature, 
									cms_employees.device_info, cms_employees.device_id
									FROM cms_employees
									LEFT JOIN cms_master_employer ON cms_employees.employer_id = cms_master_employer.id
									WHERE cms_employees.office_email in('sancheev@gmail.com') AND cms_employees.is_active = 1


[2019-02-17 18:29:20]
Function Details: get_verifier_approver 
 Param Details : 
"18"


[2019-02-17 18:29:20]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT group_concat(office_email SEPARATOR ';') as email
									FROM cms_employees
									INNER JOIN cms_employees_access ON cms_employees.id =  cms_employees_access.emp_id
									WHERE cms_employees_access.module_id = 18 AND verify_it = 1 AND approve_it = 1 AND cms_employees.is_active = 1


[2019-02-17 18:29:20]
Function Details: db_update
 Param Details: 
 Array
(
    [:service_no] => MSP19-00004
    [:sr_data] => {"qty":"","sst":"","amount":"2","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":""},"status_id":"223","attachment":["lang_updated.xls","IME Malaysia Online.pdf"],"unit_price":"","category_id":"220","description":"1","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"2","number_of_repayment":"2","each_repayment_amount":"2","current_balance_advance_or_loan":"2"},"total_amount":"","date_required":"12-02-2019","raise_invoice":{"client_id":"","payment_terms":"","contact_person":""},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:29:16"},"approve":{"approved":null,"approved_by":null,"approved_date":null}},"bank_account_details":""}
    [:updated_by] => 15
    [:updated_date] => 2019-02-17 18:29:19
)
 
 Result 1


[2019-02-17 18:29:20]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 18:29:20]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:29:20]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:29:20]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 18:29:20]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 18:29:22]
Function Details: smtpmailer 
 Param Details : 
"Email Sent : sancheev@gmail.com CC'ed : sancheev@gmail.com"


[2019-02-17 18:29:32]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_details","data":{"service_no":"MSP19-00004"}}


[2019-02-17 18:29:32]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:29:32]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:29:32]
Function Details: get_service_request_details 
 Param Details : 
{"service_no":"MSP19-00004"}


[2019-02-17 18:29:32]
Function Details: db_query
 Param Details: 
SELECT 					
						service_no
				        , sr_data
				        , concat('http://127.0.0.1:8000/mspdoc_bare/services/files/', 'service_request', '/',service_no, '/') as filepath
				        , created_date
				        , created_by
						, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name			
					 FROM cms_service_request WHERE service_no = 'MSP19-00004'


[2019-02-17 18:29:48]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"add_edit_service_request","data":{"service_no":"MSP19-00004","service_data":{"qty":"","sst":"","amount":"2","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":""},"status_id":"223","attachment":["lang_updated.xls","IME Malaysia Online.pdf","IA RPP IBFT DuitNow Menu_WD version.xlsx"],"unit_price":"","category_id":"220","description":"1","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"2","number_of_repayment":"2","each_repayment_amount":"2","current_balance_advance_or_loan":"2"},"total_amount":"","date_required":"12-02-2019","raise_invoice":{"client_id":"","payment_terms":"","contact_person":""},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:29:16"},"approve":{"approved":null,"approved_by":null,"approved_date":null}},"bank_account_details":""},"emp_id":"15"}}


[2019-02-17 18:29:48]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:29:48]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:29:48]
Function Details: add_edit_service_request 
 Param Details : 
{"service_no":"MSP19-00004","service_data":{"qty":"","sst":"","amount":"2","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":""},"status_id":"223","attachment":["lang_updated.xls","IME Malaysia Online.pdf","IA RPP IBFT DuitNow Menu_WD version.xlsx"],"unit_price":"","category_id":"220","description":"1","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"2","number_of_repayment":"2","each_repayment_amount":"2","current_balance_advance_or_loan":"2"},"total_amount":"","date_required":"12-02-2019","raise_invoice":{"client_id":"","payment_terms":"","contact_person":""},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:29:16"},"approve":{"approved":null,"approved_by":null,"approved_date":null}},"bank_account_details":""},"emp_id":"15"}


[2019-02-17 18:29:48]
Function Details: is_data_exist 
 Param Details : 
"cms_service_request service_no MSP19-00004"


[2019-02-17 18:29:48]
Function Details: db_query
 Param Details: 
SELECT count(*) as id_count FROM cms_service_request WHERE service_no = 'MSP19-00004'


[2019-02-17 18:29:48]
Function Details: db_update
 Param Details: 
   		UPDATE cms_service_request SET service_no = :service_no, sr_data = :sr_data, updated_by = :updated_by, updated_date = :updated_date WHERE service_no = :service_no 


[2019-02-17 18:29:49]
Function Details: db_update
 Param Details: 
 Array
(
    [:service_no] => MSP19-00004
    [:sr_data] => {"qty":"","sst":"","amount":"2","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":""},"status_id":"223","attachment":["lang_updated.xls","IME Malaysia Online.pdf","IA RPP IBFT DuitNow Menu_WD version.xlsx"],"unit_price":"","category_id":"220","description":"1","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"2","number_of_repayment":"2","each_repayment_amount":"2","current_balance_advance_or_loan":"2"},"total_amount":"","date_required":"12-02-2019","raise_invoice":{"client_id":"","payment_terms":"","contact_person":""},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:29:16"},"approve":{"approved":null,"approved_by":null,"approved_date":null}},"bank_account_details":""}
    [:updated_by] => 15
    [:updated_date] => 2019-02-17 18:29:48
)
 
 Result 1


[2019-02-17 18:29:49]
Business Layer: 


[2019-02-17 18:29:51]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"send_email_verifier_approver_service_request","data":{"service_no":"MSP19-00004","module_id":"18","emp_id":"15","email_type":0,"attachment":["lang_updated.xls","IME Malaysia Online.pdf","IA RPP IBFT DuitNow Menu_WD version.xlsx"]}}


[2019-02-17 18:29:51]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:29:51]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:29:51]
Function Details: db_query
 Param Details: 
SELECT template_content FROM cms_master_template WHERE id = 31


[2019-02-17 18:29:51]
Function Details: db_query
 Param Details: 
SELECT cms_master_list.descr as category,cms_employees.office_email as created_by_email FROM cms_service_request 
                                      INNER JOIN cms_employees ON cms_service_request.created_by = cms_employees.id
                                      LEFT JOIN cms_master_list ON JSON_UNQUOTE(cms_service_request.sr_data->"$.category_id") = cms_master_list.id WHERE service_no='MSP19-00004'


[2019-02-17 18:29:51]
Function Details: db_query
 Param Details: 
SELECT office_email FROM cms_employees WHERE id='15'


[2019-02-17 18:29:51]
Function Details: get_mail_signature 
 Param Details : 
"sancheev@gmail.com"


[2019-02-17 18:29:51]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT cms_employees.name, cms_master_employer.mail_signature, 
									cms_employees.device_info, cms_employees.device_id
									FROM cms_employees
									LEFT JOIN cms_master_employer ON cms_employees.employer_id = cms_master_employer.id
									WHERE cms_employees.office_email in('sancheev@gmail.com') AND cms_employees.is_active = 1


[2019-02-17 18:29:52]
Function Details: get_verifier_approver 
 Param Details : 
"18"


[2019-02-17 18:29:52]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT group_concat(office_email SEPARATOR ';') as email
									FROM cms_employees
									INNER JOIN cms_employees_access ON cms_employees.id =  cms_employees_access.emp_id
									WHERE cms_employees_access.module_id = 18 AND verify_it = 1 AND approve_it = 1 AND cms_employees.is_active = 1


[2019-02-17 18:29:59]
Function Details: smtpmailer 
 Param Details : 
"Email Sent : sancheev@gmail.com CC'ed : sancheev@gmail.com"


[2019-02-17 18:31:18]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"add_edit_service_request","data":{"service_no":"MSP19-00004","service_data":{"qty":"","sst":"","amount":"2","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":""},"status_id":"223","attachment":["lang_updated.xls","IME Malaysia Online.pdf","IA RPP IBFT DuitNow Menu_WD version.xlsx"],"unit_price":"","category_id":"220","description":"1","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"2","number_of_repayment":"2","each_repayment_amount":"2","current_balance_advance_or_loan":"2"},"total_amount":"","date_required":"12-02-2019","raise_invoice":{"client_id":"","payment_terms":"","contact_person":""},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:29:16"},"approve":{"approved":null,"approved_by":null,"approved_date":null}},"bank_account_details":""},"emp_id":"15"}}


[2019-02-17 18:31:18]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:31:18]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:31:18]
Function Details: add_edit_service_request 
 Param Details : 
{"service_no":"MSP19-00004","service_data":{"qty":"","sst":"","amount":"2","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":""},"status_id":"223","attachment":["lang_updated.xls","IME Malaysia Online.pdf","IA RPP IBFT DuitNow Menu_WD version.xlsx"],"unit_price":"","category_id":"220","description":"1","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"2","number_of_repayment":"2","each_repayment_amount":"2","current_balance_advance_or_loan":"2"},"total_amount":"","date_required":"12-02-2019","raise_invoice":{"client_id":"","payment_terms":"","contact_person":""},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:29:16"},"approve":{"approved":null,"approved_by":null,"approved_date":null}},"bank_account_details":""},"emp_id":"15"}


[2019-02-17 18:31:18]
Function Details: is_data_exist 
 Param Details : 
"cms_service_request service_no MSP19-00004"


[2019-02-17 18:31:18]
Function Details: db_query
 Param Details: 
SELECT count(*) as id_count FROM cms_service_request WHERE service_no = 'MSP19-00004'


[2019-02-17 18:31:18]
Function Details: db_update
 Param Details: 
   		UPDATE cms_service_request SET service_no = :service_no, sr_data = :sr_data, updated_by = :updated_by, updated_date = :updated_date WHERE service_no = :service_no 


[2019-02-17 18:31:19]
Function Details: db_update
 Param Details: 
 Array
(
    [:service_no] => MSP19-00004
    [:sr_data] => {"qty":"","sst":"","amount":"2","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":""},"status_id":"223","attachment":["lang_updated.xls","IME Malaysia Online.pdf","IA RPP IBFT DuitNow Menu_WD version.xlsx"],"unit_price":"","category_id":"220","description":"1","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"2","number_of_repayment":"2","each_repayment_amount":"2","current_balance_advance_or_loan":"2"},"total_amount":"","date_required":"12-02-2019","raise_invoice":{"client_id":"","payment_terms":"","contact_person":""},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:29:16"},"approve":{"approved":null,"approved_by":null,"approved_date":null}},"bank_account_details":""}
    [:updated_by] => 15
    [:updated_date] => 2019-02-17 18:31:18
)
 
 Result 1


[2019-02-17 18:31:19]
Business Layer: 


[2019-02-17 18:31:27]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"send_email_verifier_approver_service_request","data":{"service_no":"MSP19-00004","module_id":"18","emp_id":"15","email_type":0,"attachment":["lang_updated.xls","IME Malaysia Online.pdf","IA RPP IBFT DuitNow Menu_WD version.xlsx"]}}


[2019-02-17 18:31:27]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:31:27]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:31:27]
Function Details: db_query
 Param Details: 
SELECT template_content FROM cms_master_template WHERE id = 31


[2019-02-17 18:31:27]
Function Details: db_query
 Param Details: 
SELECT cms_master_list.descr as category,cms_employees.office_email as created_by_email FROM cms_service_request 
                                      INNER JOIN cms_employees ON cms_service_request.created_by = cms_employees.id
                                      LEFT JOIN cms_master_list ON JSON_UNQUOTE(cms_service_request.sr_data->"$.category_id") = cms_master_list.id WHERE service_no='MSP19-00004'


[2019-02-17 18:31:27]
Function Details: db_query
 Param Details: 
SELECT office_email FROM cms_employees WHERE id='15'


[2019-02-17 18:31:27]
Function Details: get_mail_signature 
 Param Details : 
"sancheev@gmail.com"


[2019-02-17 18:31:27]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT cms_employees.name, cms_master_employer.mail_signature, 
									cms_employees.device_info, cms_employees.device_id
									FROM cms_employees
									LEFT JOIN cms_master_employer ON cms_employees.employer_id = cms_master_employer.id
									WHERE cms_employees.office_email in('sancheev@gmail.com') AND cms_employees.is_active = 1


[2019-02-17 18:31:29]
Function Details: get_verifier_approver 
 Param Details : 
"18"


[2019-02-17 18:31:29]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT group_concat(office_email SEPARATOR ';') as email
									FROM cms_employees
									INNER JOIN cms_employees_access ON cms_employees.id =  cms_employees_access.emp_id
									WHERE cms_employees_access.module_id = 18 AND verify_it = 1 AND approve_it = 1 AND cms_employees.is_active = 1


[2019-02-17 18:31:36]
Function Details: smtpmailer 
 Param Details : 
"Email Sent : sancheev@gmail.com CC'ed : sancheev@gmail.com"


[2019-02-17 18:31:41]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 18:31:41]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:31:41]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:31:41]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 18:31:41]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 18:31:48]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_details","data":{"service_no":"MSP19-00004"}}


[2019-02-17 18:31:48]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:31:48]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:31:48]
Function Details: get_service_request_details 
 Param Details : 
{"service_no":"MSP19-00004"}


[2019-02-17 18:31:48]
Function Details: db_query
 Param Details: 
SELECT 					
						service_no
				        , sr_data
				        , concat('http://127.0.0.1:8000/mspdoc_bare/services/files/', 'service_request', '/',service_no, '/') as filepath
				        , created_date
				        , created_by
						, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name			
					 FROM cms_service_request WHERE service_no = 'MSP19-00004'


[2019-02-17 18:31:59]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 18:31:59]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:31:59]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:31:59]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 18:31:59]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 18:32:03]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"send_email_verifier_approver_service_request","data":{"service_no":"MSP19-00004","module_id":"18","emp_id":"15","email_type":2,"attachment":["lang_updated.xls","IME Malaysia Online.pdf","IA RPP IBFT DuitNow Menu_WD version.xlsx"]}}


[2019-02-17 18:32:03]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:32:03]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"add_edit_service_request","data":{"service_no":"MSP19-00004","service_data":{"qty":"","sst":"","amount":"2","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":""},"status_id":"224","attachment":["lang_updated.xls","IME Malaysia Online.pdf","IA RPP IBFT DuitNow Menu_WD version.xlsx"],"unit_price":"","category_id":"220","description":"1","employer_id":"1","remark_list":[{"remarks":"Completed","created_by":"Jamal Ali","created_date":"2019-02-17 18:32:01"}],"advance_loan":{"advance_or_loan":"2","number_of_repayment":"2","each_repayment_amount":"2","current_balance_advance_or_loan":"2"},"total_amount":"","date_required":"12-02-2019","raise_invoice":{"client_id":"","payment_terms":"","contact_person":""},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:29:16"},"approve":{"approved":1,"approved_by":"15","approved_date":"2019-02-17 18:32:01"}},"bank_account_details":""},"emp_id":"15"}}


[2019-02-17 18:32:03]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:32:03]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:32:03]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:32:03]
Function Details: db_query
 Param Details: 
SELECT template_content FROM cms_master_template WHERE id = 32


[2019-02-17 18:32:03]
Function Details: add_edit_service_request 
 Param Details : 
{"service_no":"MSP19-00004","service_data":{"qty":"","sst":"","amount":"2","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":""},"status_id":"224","attachment":["lang_updated.xls","IME Malaysia Online.pdf","IA RPP IBFT DuitNow Menu_WD version.xlsx"],"unit_price":"","category_id":"220","description":"1","employer_id":"1","remark_list":[{"remarks":"Completed","created_by":"Jamal Ali","created_date":"2019-02-17 18:32:01"}],"advance_loan":{"advance_or_loan":"2","number_of_repayment":"2","each_repayment_amount":"2","current_balance_advance_or_loan":"2"},"total_amount":"","date_required":"12-02-2019","raise_invoice":{"client_id":"","payment_terms":"","contact_person":""},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:29:16"},"approve":{"approved":1,"approved_by":"15","approved_date":"2019-02-17 18:32:01"}},"bank_account_details":""},"emp_id":"15"}


[2019-02-17 18:32:03]
Function Details: is_data_exist 
 Param Details : 
"cms_service_request service_no MSP19-00004"


[2019-02-17 18:32:03]
Function Details: db_query
 Param Details: 
SELECT cms_master_list.descr as category,cms_employees.office_email as created_by_email FROM cms_service_request 
                                      INNER JOIN cms_employees ON cms_service_request.created_by = cms_employees.id
                                      LEFT JOIN cms_master_list ON JSON_UNQUOTE(cms_service_request.sr_data->"$.category_id") = cms_master_list.id WHERE service_no='MSP19-00004'


[2019-02-17 18:32:03]
Function Details: db_query
 Param Details: 
SELECT count(*) as id_count FROM cms_service_request WHERE service_no = 'MSP19-00004'


[2019-02-17 18:32:03]
Function Details: db_query
 Param Details: 
SELECT office_email FROM cms_employees WHERE id='15'


[2019-02-17 18:32:03]
Function Details: db_update
 Param Details: 
   		UPDATE cms_service_request SET service_no = :service_no, sr_data = :sr_data, updated_by = :updated_by, updated_date = :updated_date WHERE service_no = :service_no 


[2019-02-17 18:32:03]
Function Details: get_mail_signature 
 Param Details : 
"sancheev@gmail.com"


[2019-02-17 18:32:03]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT cms_employees.name, cms_master_employer.mail_signature, 
									cms_employees.device_info, cms_employees.device_id
									FROM cms_employees
									LEFT JOIN cms_master_employer ON cms_employees.employer_id = cms_master_employer.id
									WHERE cms_employees.office_email in('sancheev@gmail.com') AND cms_employees.is_active = 1


[2019-02-17 18:32:04]
Function Details: get_verifier_approver 
 Param Details : 
"18"


[2019-02-17 18:32:04]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT group_concat(office_email SEPARATOR ';') as email
									FROM cms_employees
									INNER JOIN cms_employees_access ON cms_employees.id =  cms_employees_access.emp_id
									WHERE cms_employees_access.module_id = 18 AND verify_it = 1 AND approve_it = 1 AND cms_employees.is_active = 1


[2019-02-17 18:32:04]
Function Details: db_update
 Param Details: 
 Array
(
    [:service_no] => MSP19-00004
    [:sr_data] => {"qty":"","sst":"","amount":"2","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":""},"status_id":"224","attachment":["lang_updated.xls","IME Malaysia Online.pdf","IA RPP IBFT DuitNow Menu_WD version.xlsx"],"unit_price":"","category_id":"220","description":"1","employer_id":"1","remark_list":[{"remarks":"Completed","created_by":"Jamal Ali","created_date":"2019-02-17 18:32:01"}],"advance_loan":{"advance_or_loan":"2","number_of_repayment":"2","each_repayment_amount":"2","current_balance_advance_or_loan":"2"},"total_amount":"","date_required":"12-02-2019","raise_invoice":{"client_id":"","payment_terms":"","contact_person":""},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:29:16"},"approve":{"approved":1,"approved_by":"15","approved_date":"2019-02-17 18:32:01"}},"bank_account_details":""}
    [:updated_by] => 15
    [:updated_date] => 2019-02-17 18:32:03
)
 
 Result 1


[2019-02-17 18:32:04]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 18:32:04]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:32:04]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:32:04]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 18:32:04]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 18:32:11]
Function Details: smtpmailer 
 Param Details : 
"Email Sent : sancheev@gmail.com CC'ed : sancheev@gmail.com"


[2019-02-17 18:39:27]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"add_edit_service_request","data":{"service_no":"MSP19-00003","service_data":{"qty":"2","sst":"0","amount":"4.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":""},"status_id":"223","attachment":["lang_updated.xls","IME Malaysia Online.pdf"],"unit_price":"2","category_id":"218","description":"2","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"4.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"2"},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:39:26"},"approve":{"approved":null,"approved_by":null,"approved_date":null}},"bank_account_details":"2"},"emp_id":"15"}}


[2019-02-17 18:39:27]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:39:27]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"send_email_verifier_approver_service_request","data":{"service_no":"MSP19-00003","module_id":"18","emp_id":"15","email_type":1,"attachment":["lang_updated.xls","IME Malaysia Online.pdf"]}}


[2019-02-17 18:39:27]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:39:28]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'





[2019-02-17 18:39:28]
Function Details: add_edit_service_request 
 Param Details : 
{"service_no":"MSP19-00003","service_data":{"qty":"2","sst":"0","amount":"4.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":""},"status_id":"223","attachment":["lang_updated.xls","IME Malaysia Online.pdf"],"unit_price":"2","category_id":"218","description":"2","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"4.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"2"},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:39:26"},"approve":{"approved":null,"approved_by":null,"approved_date":null}},"bank_account_details":"2"},"emp_id":"15"}


[2019-02-17 18:39:28]
Function Details: is_data_exist 
 Param Details : 
"cms_service_request service_no MSP19-00003"


[2019-02-17 18:39:28]
Function Details: db_query
 Param Details: 
SELECT count(*) as id_count FROM cms_service_request WHERE service_no = 'MSP19-00003'


[2019-02-17 18:39:28]
Function Details: db_query
 Param Details: 
SELECT template_content FROM cms_master_template WHERE id = 32


[2019-02-17 18:39:28]
Function Details: db_update
 Param Details: 
   		UPDATE cms_service_request SET service_no = :service_no, sr_data = :sr_data, updated_by = :updated_by, updated_date = :updated_date WHERE service_no = :service_no 


[2019-02-17 18:39:28]
Function Details: db_query
 Param Details: 
SELECT cms_master_list.descr as category,cms_employees.office_email as created_by_email FROM cms_service_request 
                                      INNER JOIN cms_employees ON cms_service_request.created_by = cms_employees.id
                                      LEFT JOIN cms_master_list ON JSON_UNQUOTE(cms_service_request.sr_data->"$.category_id") = cms_master_list.id WHERE service_no='MSP19-00003'


[2019-02-17 18:39:28]
Function Details: db_query
 Param Details: 
SELECT office_email FROM cms_employees WHERE id='15'


[2019-02-17 18:39:28]
Function Details: get_mail_signature 
 Param Details : 
"sancheev@gmail.com"


[2019-02-17 18:39:28]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT cms_employees.name, cms_master_employer.mail_signature, 
									cms_employees.device_info, cms_employees.device_id
									FROM cms_employees
									LEFT JOIN cms_master_employer ON cms_employees.employer_id = cms_master_employer.id
									WHERE cms_employees.office_email in('sancheev@gmail.com') AND cms_employees.is_active = 1


[2019-02-17 18:39:29]
Function Details: get_verifier_approver 
 Param Details : 
"18"


[2019-02-17 18:39:29]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT group_concat(office_email SEPARATOR ';') as email
									FROM cms_employees
									INNER JOIN cms_employees_access ON cms_employees.id =  cms_employees_access.emp_id
									WHERE cms_employees_access.module_id = 18 AND verify_it = 1 AND approve_it = 1 AND cms_employees.is_active = 1


[2019-02-17 18:39:29]
Function Details: db_update
 Param Details: 
 Array
(
    [:service_no] => MSP19-00003
    [:sr_data] => {"qty":"2","sst":"0","amount":"4.00","assets":{"remarks":"","duration":"","type_of_assets":""},"payment":{"payable_to":""},"status_id":"223","attachment":["lang_updated.xls","IME Malaysia Online.pdf"],"unit_price":"2","category_id":"218","description":"2","employer_id":"1","remark_list":null,"advance_loan":{"advance_or_loan":"","number_of_repayment":"","each_repayment_amount":"","current_balance_advance_or_loan":""},"total_amount":"4.00","date_required":"","raise_invoice":{"client_id":"1","payment_terms":"225","contact_person":"2"},"approval_verify":{"verify":{"verified":1,"verified_by":"15","verified_date":"2019-02-17 18:39:26"},"approve":{"approved":null,"approved_by":null,"approved_date":null}},"bank_account_details":"2"}
    [:updated_by] => 15
    [:updated_date] => 2019-02-17 18:39:28
)
 
 Result 1


[2019-02-17 18:39:29]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 18:39:29]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:39:29]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:39:29]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 18:39:29]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 18:39:31]
Function Details: smtpmailer 
 Param Details : 
"Email Sent : sancheev@gmail.com CC'ed : sancheev@gmail.com"


[2019-02-17 18:39:59]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_details","data":{"service_no":"MSP19-00004"}}


[2019-02-17 18:39:59]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:39:59]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:39:59]
Function Details: get_service_request_details 
 Param Details : 
{"service_no":"MSP19-00004"}


[2019-02-17 18:39:59]
Function Details: db_query
 Param Details: 
SELECT 					
						service_no
				        , sr_data
				        , concat('http://127.0.0.1:8000/mspdoc_bare/services/files/', 'service_request', '/',service_no, '/') as filepath
				        , created_date
				        , created_by
						, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name			
					 FROM cms_service_request WHERE service_no = 'MSP19-00004'


[2019-02-17 18:40:09]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 18:40:09]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 18:40:09]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 18:40:09]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 18:40:09]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 20:41:40]
Function Details: check_login 
 Param Details : 
{"username":"jamal","password":"74f56399c89f4bd03ff5e85b6bf4e85f"}


[2019-02-17 20:41:40]
Function Details: db_query
 Param Details: 
SELECT id as emp_id, name, email,office_email, username
						, is_admin, initial_pswd
						, (select id from cms_master_list where cms_master_list.id = cms_employees.access_level) as access_level
						
						, cms_emp_login_sessions.token
		                , accessible_ctg
						, malaysia_phone
						, concat('http://127.0.0.1:8000/mspdoc_bare/services/files/', 'photos/',id,'.jpeg') as profile_pic
		                , super_admin  FROM cms_employees
						LEFT join cms_emp_login_sessions ON
						 	cms_employees.id = cms_emp_login_sessions.emp_id WHERE cms_employees.username	= 'jamal' AND cms_employees.pswd = '74f56399c89f4bd03ff5e85b6bf4e85f' AND cms_employees.is_active = 1


[2019-02-17 20:41:40]
Function Details: is_login_token_valid 
 Param Details : 
{"username":"jamal","password":"74f56399c89f4bd03ff5e85b6bf4e85f","emp_id":"15","token":"03293db0a67871ad036730841905cf98"}


[2019-02-17 20:41:40]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 20:41:40]
Function Details: update_session 
 Param Details : 
{"username":"jamal","password":"74f56399c89f4bd03ff5e85b6bf4e85f","emp_id":"15","token":"03293db0a67871ad036730841905cf98"}


[2019-02-17 20:41:40]
Function Details: db_update
 Param Details: 
   		UPDATE cms_emp_login_sessions SET token = :token, emp_id = :emp_id, last_active = :last_active, client_ip = :client_ip WHERE token = :token 


[2019-02-17 20:41:41]
Function Details: db_update
 Param Details: 
 Array
(
    [:token] => 03293db0a67871ad036730841905cf98
    [:emp_id] => 15
    [:last_active] => 2019-02-17 20:41:40
    [:client_ip] => 127.0.0.1
)
 
 Result 1


[2019-02-17 20:41:41]
Function Details: db_query
 Param Details: 
SELECT cms_modules.descr, cms_employees_access.* FROM cms_employees_access INNER JOIN cms_modules ON cms_employees_access.module_id = cms_modules.id WHERE cms_employees_access.emp_id	= 15


[2019-02-17 20:41:41]
Function Details: arrange_accessibilty 
 Param Details : 
[{"descr":"Claims","id":"8","module_id":"1","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Timesheets","id":"9","module_id":"2","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Leaves","id":"10","module_id":"3","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Appointments","id":"11","module_id":"4","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Task","id":"12","module_id":"5","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Onboarding","id":"13","module_id":"7","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"FAQ","id":"14","module_id":"9","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"0","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Communication","id":"15","module_id":"10","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Settings","id":"252","module_id":"8","emp_id":"15","view_it":"0","view_it_all":"0","create_it":"0","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Job Posting","id":"253","module_id":"11","emp_id":"15","view_it":"0","view_it_all":"0","create_it":"0","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Clients","id":"348","module_id":"12","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Attendance","id":"384","module_id":"14","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Employees","id":"394","module_id":"6","emp_id":"15","view_it":"0","view_it_all":"0","create_it":"0","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Emails","id":"395","module_id":"13","emp_id":"15","view_it":"0","view_it_all":"0","create_it":"0","edit_it":"0","delete_it":"0","print_it":"0","verify_it":"0","approve_it":"0","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-11-10 13:34:13","update_by":null,"updated_date":null},{"descr":"Test","id":"396","module_id":"15","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"1","delete_it":"1","print_it":"0","verify_it":"1","approve_it":"1","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":null,"created_date":null,"update_by":null,"updated_date":null},{"descr":"Outbound Document","id":"397","module_id":"16","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"1","delete_it":"1","print_it":"0","verify_it":"1","approve_it":"1","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":null,"created_date":null,"update_by":null,"updated_date":null},{"descr":"Document Archiving","id":"398","module_id":"17","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"1","delete_it":"1","print_it":"0","verify_it":"1","approve_it":"1","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":null,"created_date":null,"update_by":null,"updated_date":null},{"descr":"Service Request","id":"401","module_id":"18","emp_id":"15","view_it":"1","view_it_all":"0","create_it":"1","edit_it":"1","delete_it":"1","print_it":"0","verify_it":"1","approve_it":"1","notify_email":"0","notify_sms":"0","revoke_verify":"0","revoke_approval":"0","notify_create":"0","notify_edit":"0","notify_delete":"0","notify_verify":"0","notify_approve":"0","is_active":"1","created_by":"16","created_date":"2018-12-29 00:00:00","update_by":null,"updated_date":null}]


[2019-02-17 20:41:41]
Function Details: db_query
 Param Details: 
SELECT id FROM cms_employees WHERE reporting_to_id = 15


[2019-02-17 20:41:41]
Function Details: db_query
 Param Details: 
SELECT id,name FROM cms_employees 


[2019-02-17 20:41:42]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 1


[2019-02-17 20:41:42]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 2


[2019-02-17 20:41:42]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 8


[2019-02-17 20:41:42]
Function Details: db_query
 Param Details: 
SELECT id,descr,no_of_days FROM cms_master_list WHERE category_id = 16


[2019-02-17 20:41:42]
Function Details: db_query
 Param Details: 
SELECT id,employer_name FROM cms_master_employer 


[2019-02-17 20:41:42]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 17


[2019-02-17 20:41:42]
Function Details: db_query
 Param Details: 
SELECT id,skills_name FROM cms_skills WHERE type_id = 67


[2019-02-17 20:41:42]
Function Details: db_query
 Param Details: 
SELECT id,skills_name FROM cms_skills WHERE type_id = 68


[2019-02-17 20:41:42]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_employees_details","data":{"id":"15"}}


[2019-02-17 20:41:42]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 20:41:42]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 20:41:42]
Function Details: get_employees_details 
 Param Details : 
{"id":"15"}


[2019-02-17 20:41:42]
Function Details: db_query
 Param Details: 
SELECT 
        id
        , employee_no
        , name
        , photoname
		, ic_passport
		, sex_id
		, age
		, date_format(dob,'%d-%m-%Y') as dob
		, nationality
		, birth_place
		, religion
		, race
		, designation
        , employer_id
		, home_phone
		, malaysia_phone
		, office_phone
		, local_address
        , home_address
        , home_country
		, email
		, office_email
		, username
        , pswd
		, is_admin
        , access_level
		, chat_id
		, dept_id
		, reporting_to_id
		, allow_add
        , allow_approve
        , allow_verify
        , allow_contract_approve
		, allow_contract_create
		, allow_contract_view_all
		, allow_contract_access
		, general_skills
        , specific_skills
        , date_format(work_start_date,'%d-%m-%Y') as work_start_date
        , date_format(work_end_date,'%d-%m-%Y') as work_end_date
        , salary
        , date_format(ep_valid_till,'%d-%m-%Y') as ep_valid_till
        , notice_period_id
		, spouse_name
		, spouse_occupation
		, date_format(marriage_date,'%d-%m-%Y') as marriage_date
		, spouse_ic
		, spouse_company
		, spouse_company_address
		, no_of_children
		, emergency_person
		, emergency_relation
		, emergency_address
		, emergency_phone
		, bank_acc_name
		, bank_acc_ic
		, bank_name
		, bank_account_no
		, accessible_ctg
		, super_admin
		, is_active
		, concat('http://127.0.0.1:8000/mspdoc_bare/services/files/', 'photos/',id,'.jpeg') as profile_pic
		, date_format(leaving_date,'%d-%m-%Y') as leaving_date
		, leaving_reason
		, created_by
        , (select employer_name from cms_master_employer where cms_master_employer.id = cms_employees.employer_id) as employer_name
        , (select descr from cms_master_list where cms_master_list.id = cms_employees.dept_id) as dept_name
        , (select descr from cms_master_list where cms_master_list.id = cms_employees.notice_period_id) as notice_period
        , (select descr from cms_master_list where cms_master_list.id = cms_employees.access_level) as access_level_name
         FROM cms_employees WHERE id = 15


[2019-02-17 20:41:42]
Function Details: db_query
 Param Details: 
SELECT skills_name FROM cms_skills WHERE id=0


[2019-02-17 20:41:42]
Function Details: db_query
 Param Details: 
SELECT skills_name FROM cms_skills WHERE id=0


[2019-02-17 20:41:42]
Function Details: db_query
 Param Details: 
SELECT module_id,view_it ,view_it_all ,create_it ,edit_it ,delete_it ,print_it ,verify_it ,approve_it,revoke_verify,revoke_approval FROM cms_employees_access WHERE emp_id = 15


[2019-02-17 20:41:45]
Function Details: db_query
 Param Details: 
SELECT id,name,office_email FROM cms_employees WHERE id =15 AND is_active = 1


[2019-02-17 20:41:45]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 39


[2019-02-17 20:41:45]
Function Details: db_query
 Param Details: 
SELECT id,employer_name FROM cms_master_employer WHERE is_active = 1


[2019-02-17 20:41:45]
Function Details: db_query
 Param Details: 
SELECT id,name FROM cms_clients WHERE is_active = 1


[2019-02-17 20:41:45]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 40


[2019-02-17 20:41:45]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 5


[2019-02-17 20:41:45]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 20


[2019-02-17 20:41:46]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 20:41:46]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 20:41:46]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 20:41:46]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 20:41:46]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 20:42:23]
Function Details: db_query
 Param Details: 
SELECT id,name,office_email FROM cms_employees WHERE id =15 AND is_active = 1


[2019-02-17 20:42:23]
Function Details: db_query
 Param Details: 
SELECT id,name FROM cms_clients WHERE is_active = 1


[2019-02-17 20:42:23]
Function Details: db_query
 Param Details: 
SELECT id,employer_name FROM cms_master_employer WHERE is_active = 1


[2019-02-17 20:42:23]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT cms_appt_pic.id,cms_appt_pic.name,cms_appt_pic.email, cms_clients.name as company_name
                           FROM cms_appt_pic INNER JOIN cms_clients ON cms_appt_pic.client = cms_clients.id
                           WHERE cms_appt_pic.created_by = 15 
                           UNION ALL
                           SELECT cms_employees.id, cms_employees.name, cms_employees.office_email as email,
                           cms_master_employer.employer_name  as company_name
                           FROM
                           cms_employees INNER JOIN cms_master_employer ON cms_employees.employer_id = cms_master_employer.id
                           WHERE cms_employees.is_active = 1


[2019-02-17 20:42:24]
Function Details: db_query
 Param Details: 
SELECT template_content FROM cms_master_template WHERE id = 26


[2019-02-17 20:42:24]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 34


[2019-02-17 20:42:24]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 35


[2019-02-17 20:42:24]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_outbound_list","data":{"client_id":"","created_by":"","category_id":"","status_id":"","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 20:42:24]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 20:42:24]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 20:42:24]
Function Details: get_outbound_list 
 Param Details : 
{"client_id":"","created_by":"","category_id":"","status_id":"","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 20:42:24]
Function Details: db_query_list
 Param Details: 
SELECT cms_outbound_document.outbound_no
				, cms_outbound_document.outbound_date
				, cms_outbound_document.client_id
				, cms_outbound_document.employer_id
				, IFNULL(cms_clients.name,'') as client_name
				, cms_outbound_document.attention_to
				, cms_outbound_document.email_content
				, cms_outbound_document.email
				, cms_outbound_document.attachment
				, cms_outbound_document.remarks
				, cms_outbound_document.amount
				, cms_outbound_document.notes
				, cms_outbound_document.approvals
				, cms_outbound_document.status_id
				, cms_outbound_document.created_date
				, (select descr from cms_master_list list where list.id = cms_outbound_document.ctg_id) as category_name
				, (select descr from cms_master_list list where list.id = cms_outbound_document.status_id) as status_name
				, (select name from cms_employees emp where emp.id = cms_outbound_document.created_by) as created_by		
                 FROM 
                cms_outbound_document
				LEFT JOIN cms_clients
                    ON (cms_outbound_document.client_id = cms_clients.id)
                 WHERE 15 IN (cms_outbound_document.created_by) AND cms_outbound_document.is_active in(1) ORDER BY outbound_no DESC limit 0,10


[2019-02-17 20:47:24]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"add_edit_outbound","data":{"outbound_no":"","outbound_date":"17-02-2019","client_id":"1","employer_id":"1","attention_to":"yted","status_id":"197","email":["sancheev@gmail.com"],"category_id":"202","amount":"123","remark":"","email_content":"%3Ctitle%3E%3C%2Ftitle%3E%0A%3Cmeta%20charset%3D%22utf-8%22%20%2F%3E%0A%3Cmeta%20content%3D%22width%3Ddevice-width%22%20name%3D%22viewport%22%20%2F%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%2F*%20CLIENT-SPECIFIC%20STYLES%20*%2F%0A%20%20%20%20%23outlook%20a%7Bpadding%3A0%3B%7D%20%2F*%20Force%20Outlook%20to%20provide%20a%20%22view%20in%20browser%22%20message%20*%2F%0A%20%20%20%20.ReadMsgBody%7Bwidth%3A100%25%3B%7D%20.ExternalClass%7Bwidth%3A100%25%3B%7D%20%2F*%20Force%20Hotmail%20to%20display%20emails%20at%20full%20width%20*%2F%0A%20%20%20%20.ExternalClass%2C%20.ExternalClass%20p%2C%20.ExternalClass%20span%2C%20.ExternalClass%20font%2C%20.ExternalClass%20td%2C%20.ExternalClass%20div%20%7Bline-height%3A%20100%25%3B%7D%20%2F*%20Force%20Hotmail%20to%20display%20normal%20line%20spacing%20*%2F%0A%20%20%20%20body%2C%20table%2C%20td%2C%20a%7B-webkit-text-size-adjust%3A100%25%3B%20-ms-text-size-adjust%3A100%25%3B%7D%20%2F*%20Prevent%20WebKit%20and%20Windows%20mobile%20changing%20default%20text%20sizes%20*%2F%0A%20%20%20%20table%2C%20td%7Bmso-table-lspace%3A0pt%3B%20mso-table-rspace%3A0pt%3B%7D%20%2F*%20Remove%20spacing%20between%20tables%20in%20Outlook%202007%20and%20up%20*%2F%0A%20%20%20%20img%7B-ms-interpolation-mode%3Abicubic%3B%7D%20%2F*%20Allow%20smoother%20rendering%20of%20resized%20image%20in%20Internet%20Explorer%20*%2F%0A%20%20%20%20%2F*%20RESET%20STYLES%20*%2F%0A%20%20%20%20body%7Bmargin%3A0%3B%20padding%3A0%3B%7D%0A%20%20%20%20img%7Bborder%3A0%3B%20height%3Aauto%3B%20line-height%3A100%25%3B%20outline%3Anone%3B%20text-decoration%3Anone%3B%7D%0A%20%20%20%20table%7Bborder-collapse%3Acollapse%20!important%3B%7D%0A%20%20%20%20body%7Bheight%3A100%25%20!important%3B%20margin%3A0%3B%20padding%3A0%3B%20width%3A100%25%20!important%3B%7D%0A%20%20%20%20%2F*%20iOS%20BLUE%20LINKS%20*%2F%0A%20%20%20%20.appleBody%20a%20%7Bcolor%3A%2368440a%3B%20text-decoration%3A%20none%3B%7D%0A%20%20%20%20.appleFooter%20a%20%7Bcolor%3A%23999999%3B%20text-decoration%3A%20none%3B%7D%0A%20%20%20%20%2F*%20MOBILE%20STYLES%20*%2F%0A%20%20%20%20%40media%20screen%20and%20(max-width%3A%20480px)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.table_shrink%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A95%25%20!important%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%3C%2Fstyle%3E%0A%3Ctable%20align%3D%22center%22%20bgcolor%3D%22%23FFFFFF%22%20border%3D%220%22%20cellpadding%3D%220%22%20cellspacing%3D%220%22%20class%3D%22table_shrink%22%20width%3D%22100%25%22%3E%0A%09%3Ctbody%3E%0A%09%09%3Ctr%3E%0A%09%09%09%3Ctd%3E%3C!--%20start%20body%20module%20--%3E%0A%09%09%09%3Ctable%20align%3D%22center%22%20bgcolor%3D%22%23FFFFFF%22%20border%3D%220%22%20cellpadding%3D%220%22%20cellspacing%3D%220%22%20class%3D%22table_shrink%22%20width%3D%22520px%22%3E%3C!--%20start%20headline%20--%3E%0A%09%09%09%09%3Ctbody%3E%0A%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%20style%3D%22padding-top%3A%2030px%3B%20font-family%3AHelvetica%20neue%2C%20Helvetica%2C%20Arial%2C%20Verdana%2C%20sans-serif%3B%20color%3A%20%23205081%3B%20font-size%3A%2020px%3B%20line-height%3A%2032px%3B%20text-align%3Aleft%3B%20font-weight%3Abold%3B%22%20valign%3D%22top%22%3ENotifications%3C%2Ftd%3E%0A%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%3C!--%20end%20headline%20--%3E%0A%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%3Ctd%20style%3D%22color%3A%23cccccc%3B%20padding-top%3A10px%3B%22%20valign%3D%22top%22%20width%3D%22100%25%22%3E%0A%09%09%09%09%09%09%3Chr%20color%3D%22%23CCCCCC%22%20size%3D%221%22%20%2F%3E%3C%2Ftd%3E%0A%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%3C!--%20start%20headline%20--%3E%3C!--%20end%20headline%20--%3E%3C!--%20start%20copy%20--%3E%0A%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%20style%3D%22padding-top%3A%2020px%3B%20font-family%3A%20Helvetica%2C%20Helvetica%20neue%2C%20Arial%2C%20Verdana%2C%20sans-serif%3B%20color%3A%20%23333333%3B%20font-size%3A%2014px%3B%20line-height%3A%2020px%3B%20text-align%3Aleft%3B%20font-weight%3Anone%3B%22%20valign%3D%22top%22%3EDear%20Sir%2C%3C%2Ftd%3E%0A%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%20style%3D%22padding-top%3A%2010px%3B%20font-family%3A%20Helvetica%2C%20Helvetica%20neue%2C%20Arial%2C%20Verdana%2C%20sans-serif%3B%20color%3A%20%23333333%3B%20font-size%3A%2014px%3B%20line-height%3A%2020px%3B%20text-align%3Aleft%3B%20font-weight%3Anone%3B%22%20valign%3D%22top%22%3E%7BSENDER_NAME%7D%20has%20created%20outbound%20document%20as%20below%3C%2Ftd%3E%0A%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%20style%3D%22padding-top%3A20px%3B%20padding-bottom%3A20px%3B%22%20valign%3D%22top%22%3E%0A%09%09%09%09%09%09%3Ctable%20align%3D%22left%22%20border%3D%220%22%20cellpadding%3D%220%22%20cellspacing%3D%220%22%3E%0A%09%09%09%09%09%09%09%3Ctbody%3E%0A%09%09%09%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%3E%3Cb%3EDoc%20No.%3C%2Fb%3E%3C%2Ftd%3E%0A%09%09%09%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%3E%3A%20%7BDOC_NO%7D%3C%2Ftd%3E%0A%09%09%09%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%3E%3Cb%3EDoc%20Category%3C%2Fb%3E%3C%2Ftd%3E%0A%09%09%09%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%3E%3A%20%7BCATEGORY_NAME%7D%3C%2Ftd%3E%0A%09%09%09%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%09%09%3C%2Ftbody%3E%0A%09%09%09%09%09%09%3C%2Ftable%3E%0A%09%09%09%09%09%09%3C%2Ftd%3E%0A%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%20style%3D%22padding-top%3A%200px%3B%20font-family%3A%20Helvetica%2C%20Helvetica%20neue%2C%20Arial%2C%20Verdana%2C%20sans-serif%3B%20color%3A%20%23333333%3B%20font-size%3A%2014px%3B%20line-height%3A%2020px%3B%20text-align%3Aleft%3B%20font-weight%3Anone%3B%22%20valign%3D%22top%22%3ERegards%2C%3Cbr%20%2F%3E%0A%09%09%09%09%09%09%7BMAIL_SIGNATURE%7D%3C%2Ftd%3E%0A%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%3C!--%20end%20copy%20--%3E%0A%09%09%09%09%3C%2Ftbody%3E%0A%09%09%09%3C%2Ftable%3E%0A%09%09%09%3C!--%20end%20body%20module%20--%3E%3C%2Ftd%3E%0A%09%09%3C%2Ftr%3E%0A%09%09%3Ctr%3E%0A%09%09%09%3Ctd%3E%3C!--%20start%20footer%20module%20--%3E%0A%09%09%09%3Ctable%20align%3D%22center%22%20bgcolor%3D%22%23FFFFFF%22%20border%3D%220%22%20cellpadding%3D%220%22%20cellspacing%3D%220%22%20class%3D%22table_shrink%22%20width%3D%22520px%22%3E%0A%09%09%09%09%3Ctbody%3E%0A%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%3Ctd%20style%3D%22color%3A%23cccccc%3B%22%20valign%3D%22top%22%20width%3D%22100%25%22%3E%0A%09%09%09%09%09%09%3Chr%20color%3D%22%23CCCCCC%22%20size%3D%221%22%20%2F%3E%3C%2Ftd%3E%0A%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%3Ctd%3E%0A%09%09%09%09%09%09%3Ctable%20align%3D%22center%22%20bgcolor%3D%22%23FFFFFF%22%20border%3D%220%22%20cellpadding%3D%220%22%20cellspacing%3D%220%22%20class%3D%22table_shrink%22%20width%3D%22520px%22%3E%0A%09%09%09%09%09%09%09%3Ctbody%3E%0A%09%09%09%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%20style%3D%22padding-top%3A%2010px%3B%20font-family%3A%20Helvetica%2C%20Helvetica%20neue%2C%20Arial%2C%20Verdana%2C%20sans-serif%3B%20color%3A%20%23707070%3B%20font-size%3A%2012px%3B%20line-height%3A%2018px%3B%20text-align%3Aleft%3B%20font-weight%3Anone%3B%22%20valign%3D%22top%22%3EThis%20message%20was%20sent%20to%20you%20by%20%7BAPP_TITLE%7D%3C%2Ftd%3E%0A%09%09%09%09%09%09%09%09%09%3Ctd%20align%3D%22right%22%20style%3D%22padding-top%3A15px%3B%20padding-bottom%3A30px%3B%22%3E%26nbsp%3B%3C%2Ftd%3E%0A%09%09%09%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%09%09%3C%2Ftbody%3E%0A%09%09%09%09%09%09%3C%2Ftable%3E%0A%09%09%09%09%09%09%3C%2Ftd%3E%0A%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%3C%2Ftbody%3E%0A%09%09%09%3C%2Ftable%3E%0A%09%09%09%3C!--%20end%20footer%20module%20--%3E%3C%2Ftd%3E%0A%09%09%3C%2Ftr%3E%0A%09%3C%2Ftbody%3E%0A%3C%2Ftable%3E%0A","emp_id":"15","attachment":["MSP_INOUTBound_Document_Flow.pdf"]}}


[2019-02-17 20:47:24]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 20:47:24]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 20:47:24]
Function Details: add_edit_outbound 
 Param Details : 
{"outbound_no":"","outbound_date":"17-02-2019","client_id":"1","employer_id":"1","attention_to":"yted","status_id":"197","email":["sancheev@gmail.com"],"category_id":"202","amount":"123","remark":"","email_content":"%3Ctitle%3E%3C%2Ftitle%3E%0A%3Cmeta%20charset%3D%22utf-8%22%20%2F%3E%0A%3Cmeta%20content%3D%22width%3Ddevice-width%22%20name%3D%22viewport%22%20%2F%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%2F*%20CLIENT-SPECIFIC%20STYLES%20*%2F%0A%20%20%20%20%23outlook%20a%7Bpadding%3A0%3B%7D%20%2F*%20Force%20Outlook%20to%20provide%20a%20%22view%20in%20browser%22%20message%20*%2F%0A%20%20%20%20.ReadMsgBody%7Bwidth%3A100%25%3B%7D%20.ExternalClass%7Bwidth%3A100%25%3B%7D%20%2F*%20Force%20Hotmail%20to%20display%20emails%20at%20full%20width%20*%2F%0A%20%20%20%20.ExternalClass%2C%20.ExternalClass%20p%2C%20.ExternalClass%20span%2C%20.ExternalClass%20font%2C%20.ExternalClass%20td%2C%20.ExternalClass%20div%20%7Bline-height%3A%20100%25%3B%7D%20%2F*%20Force%20Hotmail%20to%20display%20normal%20line%20spacing%20*%2F%0A%20%20%20%20body%2C%20table%2C%20td%2C%20a%7B-webkit-text-size-adjust%3A100%25%3B%20-ms-text-size-adjust%3A100%25%3B%7D%20%2F*%20Prevent%20WebKit%20and%20Windows%20mobile%20changing%20default%20text%20sizes%20*%2F%0A%20%20%20%20table%2C%20td%7Bmso-table-lspace%3A0pt%3B%20mso-table-rspace%3A0pt%3B%7D%20%2F*%20Remove%20spacing%20between%20tables%20in%20Outlook%202007%20and%20up%20*%2F%0A%20%20%20%20img%7B-ms-interpolation-mode%3Abicubic%3B%7D%20%2F*%20Allow%20smoother%20rendering%20of%20resized%20image%20in%20Internet%20Explorer%20*%2F%0A%20%20%20%20%2F*%20RESET%20STYLES%20*%2F%0A%20%20%20%20body%7Bmargin%3A0%3B%20padding%3A0%3B%7D%0A%20%20%20%20img%7Bborder%3A0%3B%20height%3Aauto%3B%20line-height%3A100%25%3B%20outline%3Anone%3B%20text-decoration%3Anone%3B%7D%0A%20%20%20%20table%7Bborder-collapse%3Acollapse%20!important%3B%7D%0A%20%20%20%20body%7Bheight%3A100%25%20!important%3B%20margin%3A0%3B%20padding%3A0%3B%20width%3A100%25%20!important%3B%7D%0A%20%20%20%20%2F*%20iOS%20BLUE%20LINKS%20*%2F%0A%20%20%20%20.appleBody%20a%20%7Bcolor%3A%2368440a%3B%20text-decoration%3A%20none%3B%7D%0A%20%20%20%20.appleFooter%20a%20%7Bcolor%3A%23999999%3B%20text-decoration%3A%20none%3B%7D%0A%20%20%20%20%2F*%20MOBILE%20STYLES%20*%2F%0A%20%20%20%20%40media%20screen%20and%20(max-width%3A%20480px)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.table_shrink%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A95%25%20!important%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%3C%2Fstyle%3E%0A%3Ctable%20align%3D%22center%22%20bgcolor%3D%22%23FFFFFF%22%20border%3D%220%22%20cellpadding%3D%220%22%20cellspacing%3D%220%22%20class%3D%22table_shrink%22%20width%3D%22100%25%22%3E%0A%09%3Ctbody%3E%0A%09%09%3Ctr%3E%0A%09%09%09%3Ctd%3E%3C!--%20start%20body%20module%20--%3E%0A%09%09%09%3Ctable%20align%3D%22center%22%20bgcolor%3D%22%23FFFFFF%22%20border%3D%220%22%20cellpadding%3D%220%22%20cellspacing%3D%220%22%20class%3D%22table_shrink%22%20width%3D%22520px%22%3E%3C!--%20start%20headline%20--%3E%0A%09%09%09%09%3Ctbody%3E%0A%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%20style%3D%22padding-top%3A%2030px%3B%20font-family%3AHelvetica%20neue%2C%20Helvetica%2C%20Arial%2C%20Verdana%2C%20sans-serif%3B%20color%3A%20%23205081%3B%20font-size%3A%2020px%3B%20line-height%3A%2032px%3B%20text-align%3Aleft%3B%20font-weight%3Abold%3B%22%20valign%3D%22top%22%3ENotifications%3C%2Ftd%3E%0A%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%3C!--%20end%20headline%20--%3E%0A%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%3Ctd%20style%3D%22color%3A%23cccccc%3B%20padding-top%3A10px%3B%22%20valign%3D%22top%22%20width%3D%22100%25%22%3E%0A%09%09%09%09%09%09%3Chr%20color%3D%22%23CCCCCC%22%20size%3D%221%22%20%2F%3E%3C%2Ftd%3E%0A%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%3C!--%20start%20headline%20--%3E%3C!--%20end%20headline%20--%3E%3C!--%20start%20copy%20--%3E%0A%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%20style%3D%22padding-top%3A%2020px%3B%20font-family%3A%20Helvetica%2C%20Helvetica%20neue%2C%20Arial%2C%20Verdana%2C%20sans-serif%3B%20color%3A%20%23333333%3B%20font-size%3A%2014px%3B%20line-height%3A%2020px%3B%20text-align%3Aleft%3B%20font-weight%3Anone%3B%22%20valign%3D%22top%22%3EDear%20Sir%2C%3C%2Ftd%3E%0A%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%20style%3D%22padding-top%3A%2010px%3B%20font-family%3A%20Helvetica%2C%20Helvetica%20neue%2C%20Arial%2C%20Verdana%2C%20sans-serif%3B%20color%3A%20%23333333%3B%20font-size%3A%2014px%3B%20line-height%3A%2020px%3B%20text-align%3Aleft%3B%20font-weight%3Anone%3B%22%20valign%3D%22top%22%3E%7BSENDER_NAME%7D%20has%20created%20outbound%20document%20as%20below%3C%2Ftd%3E%0A%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%20style%3D%22padding-top%3A20px%3B%20padding-bottom%3A20px%3B%22%20valign%3D%22top%22%3E%0A%09%09%09%09%09%09%3Ctable%20align%3D%22left%22%20border%3D%220%22%20cellpadding%3D%220%22%20cellspacing%3D%220%22%3E%0A%09%09%09%09%09%09%09%3Ctbody%3E%0A%09%09%09%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%3E%3Cb%3EDoc%20No.%3C%2Fb%3E%3C%2Ftd%3E%0A%09%09%09%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%3E%3A%20%7BDOC_NO%7D%3C%2Ftd%3E%0A%09%09%09%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%3E%3Cb%3EDoc%20Category%3C%2Fb%3E%3C%2Ftd%3E%0A%09%09%09%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%3E%3A%20%7BCATEGORY_NAME%7D%3C%2Ftd%3E%0A%09%09%09%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%09%09%3C%2Ftbody%3E%0A%09%09%09%09%09%09%3C%2Ftable%3E%0A%09%09%09%09%09%09%3C%2Ftd%3E%0A%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%20style%3D%22padding-top%3A%200px%3B%20font-family%3A%20Helvetica%2C%20Helvetica%20neue%2C%20Arial%2C%20Verdana%2C%20sans-serif%3B%20color%3A%20%23333333%3B%20font-size%3A%2014px%3B%20line-height%3A%2020px%3B%20text-align%3Aleft%3B%20font-weight%3Anone%3B%22%20valign%3D%22top%22%3ERegards%2C%3Cbr%20%2F%3E%0A%09%09%09%09%09%09%7BMAIL_SIGNATURE%7D%3C%2Ftd%3E%0A%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%3C!--%20end%20copy%20--%3E%0A%09%09%09%09%3C%2Ftbody%3E%0A%09%09%09%3C%2Ftable%3E%0A%09%09%09%3C!--%20end%20body%20module%20--%3E%3C%2Ftd%3E%0A%09%09%3C%2Ftr%3E%0A%09%09%3Ctr%3E%0A%09%09%09%3Ctd%3E%3C!--%20start%20footer%20module%20--%3E%0A%09%09%09%3Ctable%20align%3D%22center%22%20bgcolor%3D%22%23FFFFFF%22%20border%3D%220%22%20cellpadding%3D%220%22%20cellspacing%3D%220%22%20class%3D%22table_shrink%22%20width%3D%22520px%22%3E%0A%09%09%09%09%3Ctbody%3E%0A%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%3Ctd%20style%3D%22color%3A%23cccccc%3B%22%20valign%3D%22top%22%20width%3D%22100%25%22%3E%0A%09%09%09%09%09%09%3Chr%20color%3D%22%23CCCCCC%22%20size%3D%221%22%20%2F%3E%3C%2Ftd%3E%0A%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%3Ctd%3E%0A%09%09%09%09%09%09%3Ctable%20align%3D%22center%22%20bgcolor%3D%22%23FFFFFF%22%20border%3D%220%22%20cellpadding%3D%220%22%20cellspacing%3D%220%22%20class%3D%22table_shrink%22%20width%3D%22520px%22%3E%0A%09%09%09%09%09%09%09%3Ctbody%3E%0A%09%09%09%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%20style%3D%22padding-top%3A%2010px%3B%20font-family%3A%20Helvetica%2C%20Helvetica%20neue%2C%20Arial%2C%20Verdana%2C%20sans-serif%3B%20color%3A%20%23707070%3B%20font-size%3A%2012px%3B%20line-height%3A%2018px%3B%20text-align%3Aleft%3B%20font-weight%3Anone%3B%22%20valign%3D%22top%22%3EThis%20message%20was%20sent%20to%20you%20by%20%7BAPP_TITLE%7D%3C%2Ftd%3E%0A%09%09%09%09%09%09%09%09%09%3Ctd%20align%3D%22right%22%20style%3D%22padding-top%3A15px%3B%20padding-bottom%3A30px%3B%22%3E%26nbsp%3B%3C%2Ftd%3E%0A%09%09%09%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%09%09%3C%2Ftbody%3E%0A%09%09%09%09%09%09%3C%2Ftable%3E%0A%09%09%09%09%09%09%3C%2Ftd%3E%0A%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%3C%2Ftbody%3E%0A%09%09%09%3C%2Ftable%3E%0A%09%09%09%3C!--%20end%20footer%20module%20--%3E%3C%2Ftd%3E%0A%09%09%3C%2Ftr%3E%0A%09%3C%2Ftbody%3E%0A%3C%2Ftable%3E%0A","emp_id":"15","attachment":["MSP_INOUTBound_Document_Flow.pdf"]}


[2019-02-17 20:47:24]
Function Details: get_doc_primary_no 
 Param Details : 
"outbound_no cms_outbound_document"


[2019-02-17 20:47:24]
Function Details: db_query
 Param Details: 
SELECT prefix,sequence_digit FROM cms_master_employer WHERE id = 1


[2019-02-17 20:47:24]
Function Details: db_query
 Param Details: 
SELECT IFNULL( CONCAT( RIGHT(YEAR(NOW()),2),'-',  LPAD(  SUBSTRING_INDEX(MAX(outbound_no),'-',-1) + 1 ,5,REPEAT('0', 5))), CONCAT( RIGHT(YEAR(NOW()),2),'-',  CONCAT( REPEAT('0', 5-1),'1')    )) AS outbound_no  FROM cms_outbound_document WHERE YEAR(created_date) = YEAR(NOW()) ORDER BY outbound_no desc limit 0,1


[2019-02-17 20:47:24]
Function Details: is_data_exist 
 Param Details : 
"cms_outbound_document outbound_no MSP19-00001"


[2019-02-17 20:47:24]
Function Details: db_query
 Param Details: 
SELECT count(*) as id_count FROM cms_outbound_document WHERE outbound_no = 'MSP19-00001'


[2019-02-17 20:47:25]
Function Details: db_add
 Param Details: 
 Array
(
    [:outbound_no] => MSP19-00001
    [:outbound_date] => 2019-02-17
    [:client_id] => 1
    [:employer_id] => 1
    [:attention_to] => yted
    [:status_id] => 197
    [:email_content] => %3Ctitle%3E%3C%2Ftitle%3E%0A%3Cmeta%20charset%3D%22utf-8%22%20%2F%3E%0A%3Cmeta%20content%3D%22width%3Ddevice-width%22%20name%3D%22viewport%22%20%2F%3E%0A%3Cstyle%20type%3D%22text%2Fcss%22%3E%2F*%20CLIENT-SPECIFIC%20STYLES%20*%2F%0A%20%20%20%20%23outlook%20a%7Bpadding%3A0%3B%7D%20%2F*%20Force%20Outlook%20to%20provide%20a%20%22view%20in%20browser%22%20message%20*%2F%0A%20%20%20%20.ReadMsgBody%7Bwidth%3A100%25%3B%7D%20.ExternalClass%7Bwidth%3A100%25%3B%7D%20%2F*%20Force%20Hotmail%20to%20display%20emails%20at%20full%20width%20*%2F%0A%20%20%20%20.ExternalClass%2C%20.ExternalClass%20p%2C%20.ExternalClass%20span%2C%20.ExternalClass%20font%2C%20.ExternalClass%20td%2C%20.ExternalClass%20div%20%7Bline-height%3A%20100%25%3B%7D%20%2F*%20Force%20Hotmail%20to%20display%20normal%20line%20spacing%20*%2F%0A%20%20%20%20body%2C%20table%2C%20td%2C%20a%7B-webkit-text-size-adjust%3A100%25%3B%20-ms-text-size-adjust%3A100%25%3B%7D%20%2F*%20Prevent%20WebKit%20and%20Windows%20mobile%20changing%20default%20text%20sizes%20*%2F%0A%20%20%20%20table%2C%20td%7Bmso-table-lspace%3A0pt%3B%20mso-table-rspace%3A0pt%3B%7D%20%2F*%20Remove%20spacing%20between%20tables%20in%20Outlook%202007%20and%20up%20*%2F%0A%20%20%20%20img%7B-ms-interpolation-mode%3Abicubic%3B%7D%20%2F*%20Allow%20smoother%20rendering%20of%20resized%20image%20in%20Internet%20Explorer%20*%2F%0A%20%20%20%20%2F*%20RESET%20STYLES%20*%2F%0A%20%20%20%20body%7Bmargin%3A0%3B%20padding%3A0%3B%7D%0A%20%20%20%20img%7Bborder%3A0%3B%20height%3Aauto%3B%20line-height%3A100%25%3B%20outline%3Anone%3B%20text-decoration%3Anone%3B%7D%0A%20%20%20%20table%7Bborder-collapse%3Acollapse%20!important%3B%7D%0A%20%20%20%20body%7Bheight%3A100%25%20!important%3B%20margin%3A0%3B%20padding%3A0%3B%20width%3A100%25%20!important%3B%7D%0A%20%20%20%20%2F*%20iOS%20BLUE%20LINKS%20*%2F%0A%20%20%20%20.appleBody%20a%20%7Bcolor%3A%2368440a%3B%20text-decoration%3A%20none%3B%7D%0A%20%20%20%20.appleFooter%20a%20%7Bcolor%3A%23999999%3B%20text-decoration%3A%20none%3B%7D%0A%20%20%20%20%2F*%20MOBILE%20STYLES%20*%2F%0A%20%20%20%20%40media%20screen%20and%20(max-width%3A%20480px)%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20.table_shrink%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A95%25%20!important%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%3C%2Fstyle%3E%0A%3Ctable%20align%3D%22center%22%20bgcolor%3D%22%23FFFFFF%22%20border%3D%220%22%20cellpadding%3D%220%22%20cellspacing%3D%220%22%20class%3D%22table_shrink%22%20width%3D%22100%25%22%3E%0A%09%3Ctbody%3E%0A%09%09%3Ctr%3E%0A%09%09%09%3Ctd%3E%3C!--%20start%20body%20module%20--%3E%0A%09%09%09%3Ctable%20align%3D%22center%22%20bgcolor%3D%22%23FFFFFF%22%20border%3D%220%22%20cellpadding%3D%220%22%20cellspacing%3D%220%22%20class%3D%22table_shrink%22%20width%3D%22520px%22%3E%3C!--%20start%20headline%20--%3E%0A%09%09%09%09%3Ctbody%3E%0A%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%20style%3D%22padding-top%3A%2030px%3B%20font-family%3AHelvetica%20neue%2C%20Helvetica%2C%20Arial%2C%20Verdana%2C%20sans-serif%3B%20color%3A%20%23205081%3B%20font-size%3A%2020px%3B%20line-height%3A%2032px%3B%20text-align%3Aleft%3B%20font-weight%3Abold%3B%22%20valign%3D%22top%22%3ENotifications%3C%2Ftd%3E%0A%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%3C!--%20end%20headline%20--%3E%0A%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%3Ctd%20style%3D%22color%3A%23cccccc%3B%20padding-top%3A10px%3B%22%20valign%3D%22top%22%20width%3D%22100%25%22%3E%0A%09%09%09%09%09%09%3Chr%20color%3D%22%23CCCCCC%22%20size%3D%221%22%20%2F%3E%3C%2Ftd%3E%0A%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%3C!--%20start%20headline%20--%3E%3C!--%20end%20headline%20--%3E%3C!--%20start%20copy%20--%3E%0A%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%20style%3D%22padding-top%3A%2020px%3B%20font-family%3A%20Helvetica%2C%20Helvetica%20neue%2C%20Arial%2C%20Verdana%2C%20sans-serif%3B%20color%3A%20%23333333%3B%20font-size%3A%2014px%3B%20line-height%3A%2020px%3B%20text-align%3Aleft%3B%20font-weight%3Anone%3B%22%20valign%3D%22top%22%3EDear%20Sir%2C%3C%2Ftd%3E%0A%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%20style%3D%22padding-top%3A%2010px%3B%20font-family%3A%20Helvetica%2C%20Helvetica%20neue%2C%20Arial%2C%20Verdana%2C%20sans-serif%3B%20color%3A%20%23333333%3B%20font-size%3A%2014px%3B%20line-height%3A%2020px%3B%20text-align%3Aleft%3B%20font-weight%3Anone%3B%22%20valign%3D%22top%22%3E%7BSENDER_NAME%7D%20has%20created%20outbound%20document%20as%20below%3C%2Ftd%3E%0A%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%20style%3D%22padding-top%3A20px%3B%20padding-bottom%3A20px%3B%22%20valign%3D%22top%22%3E%0A%09%09%09%09%09%09%3Ctable%20align%3D%22left%22%20border%3D%220%22%20cellpadding%3D%220%22%20cellspacing%3D%220%22%3E%0A%09%09%09%09%09%09%09%3Ctbody%3E%0A%09%09%09%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%3E%3Cb%3EDoc%20No.%3C%2Fb%3E%3C%2Ftd%3E%0A%09%09%09%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%3E%3A%20%7BDOC_NO%7D%3C%2Ftd%3E%0A%09%09%09%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%3E%3Cb%3EDoc%20Category%3C%2Fb%3E%3C%2Ftd%3E%0A%09%09%09%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%3E%3A%20%7BCATEGORY_NAME%7D%3C%2Ftd%3E%0A%09%09%09%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%09%09%3C%2Ftbody%3E%0A%09%09%09%09%09%09%3C%2Ftable%3E%0A%09%09%09%09%09%09%3C%2Ftd%3E%0A%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%20style%3D%22padding-top%3A%200px%3B%20font-family%3A%20Helvetica%2C%20Helvetica%20neue%2C%20Arial%2C%20Verdana%2C%20sans-serif%3B%20color%3A%20%23333333%3B%20font-size%3A%2014px%3B%20line-height%3A%2020px%3B%20text-align%3Aleft%3B%20font-weight%3Anone%3B%22%20valign%3D%22top%22%3ERegards%2C%3Cbr%20%2F%3E%0A%09%09%09%09%09%09%7BMAIL_SIGNATURE%7D%3C%2Ftd%3E%0A%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%3C!--%20end%20copy%20--%3E%0A%09%09%09%09%3C%2Ftbody%3E%0A%09%09%09%3C%2Ftable%3E%0A%09%09%09%3C!--%20end%20body%20module%20--%3E%3C%2Ftd%3E%0A%09%09%3C%2Ftr%3E%0A%09%09%3Ctr%3E%0A%09%09%09%3Ctd%3E%3C!--%20start%20footer%20module%20--%3E%0A%09%09%09%3Ctable%20align%3D%22center%22%20bgcolor%3D%22%23FFFFFF%22%20border%3D%220%22%20cellpadding%3D%220%22%20cellspacing%3D%220%22%20class%3D%22table_shrink%22%20width%3D%22520px%22%3E%0A%09%09%09%09%3Ctbody%3E%0A%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%3Ctd%20style%3D%22color%3A%23cccccc%3B%22%20valign%3D%22top%22%20width%3D%22100%25%22%3E%0A%09%09%09%09%09%09%3Chr%20color%3D%22%23CCCCCC%22%20size%3D%221%22%20%2F%3E%3C%2Ftd%3E%0A%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%3Ctd%3E%0A%09%09%09%09%09%09%3Ctable%20align%3D%22center%22%20bgcolor%3D%22%23FFFFFF%22%20border%3D%220%22%20cellpadding%3D%220%22%20cellspacing%3D%220%22%20class%3D%22table_shrink%22%20width%3D%22520px%22%3E%0A%09%09%09%09%09%09%09%3Ctbody%3E%0A%09%09%09%09%09%09%09%09%3Ctr%3E%0A%09%09%09%09%09%09%09%09%09%3Ctd%20align%3D%22left%22%20style%3D%22padding-top%3A%2010px%3B%20font-family%3A%20Helvetica%2C%20Helvetica%20neue%2C%20Arial%2C%20Verdana%2C%20sans-serif%3B%20color%3A%20%23707070%3B%20font-size%3A%2012px%3B%20line-height%3A%2018px%3B%20text-align%3Aleft%3B%20font-weight%3Anone%3B%22%20valign%3D%22top%22%3EThis%20message%20was%20sent%20to%20you%20by%20%7BAPP_TITLE%7D%3C%2Ftd%3E%0A%09%09%09%09%09%09%09%09%09%3Ctd%20align%3D%22right%22%20style%3D%22padding-top%3A15px%3B%20padding-bottom%3A30px%3B%22%3E%26nbsp%3B%3C%2Ftd%3E%0A%09%09%09%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%09%09%09%3C%2Ftbody%3E%0A%09%09%09%09%09%09%3C%2Ftable%3E%0A%09%09%09%09%09%09%3C%2Ftd%3E%0A%09%09%09%09%09%3C%2Ftr%3E%0A%09%09%09%09%3C%2Ftbody%3E%0A%09%09%09%3C%2Ftable%3E%0A%09%09%09%3C!--%20end%20footer%20module%20--%3E%3C%2Ftd%3E%0A%09%09%3C%2Ftr%3E%0A%09%3C%2Ftbody%3E%0A%3C%2Ftable%3E%0A
    [:email] => ["sancheev@gmail.com"]
    [:attachment] => ["MSP_INOUTBound_Document_Flow.pdf"]
    [:amount] => 123
    [:notes] => 
    [:ctg_id] => 202
    [:created_by] => 15
    [:created_date] => 2019-02-17 20:47:24
)
 
 Result 1


[2019-02-17 20:47:25]
Business Layer: 


[2019-02-17 20:47:31]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_outbound_list","data":{"client_id":"","created_by":"","category_id":"","status_id":"","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 20:47:31]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 20:47:31]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 20:47:31]
Function Details: get_outbound_list 
 Param Details : 
{"client_id":"","created_by":"","category_id":"","status_id":"","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 20:47:31]
Function Details: db_query_list
 Param Details: 
SELECT cms_outbound_document.outbound_no
				, cms_outbound_document.outbound_date
				, cms_outbound_document.client_id
				, cms_outbound_document.employer_id
				, IFNULL(cms_clients.name,'') as client_name
				, cms_outbound_document.attention_to
				, cms_outbound_document.email_content
				, cms_outbound_document.email
				, cms_outbound_document.attachment
				, cms_outbound_document.remarks
				, cms_outbound_document.amount
				, cms_outbound_document.notes
				, cms_outbound_document.approvals
				, cms_outbound_document.status_id
				, cms_outbound_document.created_date
				, (select descr from cms_master_list list where list.id = cms_outbound_document.ctg_id) as category_name
				, (select descr from cms_master_list list where list.id = cms_outbound_document.status_id) as status_name
				, (select name from cms_employees emp where emp.id = cms_outbound_document.created_by) as created_by		
                 FROM 
                cms_outbound_document
				LEFT JOIN cms_clients
                    ON (cms_outbound_document.client_id = cms_clients.id)
                 WHERE 15 IN (cms_outbound_document.created_by) AND cms_outbound_document.is_active in(1) ORDER BY outbound_no DESC limit 0,10


[2019-02-17 20:47:44]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_outbound_details","data":{"outbound_no":"MSP19-00001"}}


[2019-02-17 20:47:44]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 20:47:44]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 20:47:44]
Function Details: get_outbound_details 
 Param Details : 
{"outbound_no":"MSP19-00001"}


[2019-02-17 20:47:44]
Function Details: db_query
 Param Details: 
SELECT 
						  outbound_no		
						, date_format(outbound_date,'%d-%m-%Y') as outbound_date	
						, client_id
						, employer_id
						, attention_to
						, email_content
						, email
						, attachment
						, concat('http://127.0.0.1:8000/mspdoc_bare/services/files/', 'outbound_document', '/',outbound_no, '/') as filepath
						, remarks
						, approvals
						, status_id
						, ctg_id
						, amount
						, notes
						, is_active
						, date_format(created_date,'%d-%m-%Y') as created_date
						, created_by
						, (select descr from cms_master_list list where list.id = cms_outbound_document.status_id) as status_name			
					 FROM cms_outbound_document WHERE outbound_no = 'MSP19-00001'


[2019-02-17 20:55:06]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_outbound_list","data":{"client_id":"","created_by":"","category_id":"","status_id":"","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 20:55:06]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 20:55:06]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 20:55:06]
Function Details: get_outbound_list 
 Param Details : 
{"client_id":"","created_by":"","category_id":"","status_id":"","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 20:55:06]
Function Details: db_query_list
 Param Details: 
SELECT cms_outbound_document.outbound_no
				, cms_outbound_document.outbound_date
				, cms_outbound_document.client_id
				, cms_outbound_document.employer_id
				, IFNULL(cms_clients.name,'') as client_name
				, cms_outbound_document.attention_to
				, cms_outbound_document.email_content
				, cms_outbound_document.email
				, cms_outbound_document.attachment
				, cms_outbound_document.remarks
				, cms_outbound_document.amount
				, cms_outbound_document.notes
				, cms_outbound_document.approvals
				, cms_outbound_document.status_id
				, cms_outbound_document.created_date
				, (select descr from cms_master_list list where list.id = cms_outbound_document.ctg_id) as category_name
				, (select descr from cms_master_list list where list.id = cms_outbound_document.status_id) as status_name
				, (select name from cms_employees emp where emp.id = cms_outbound_document.created_by) as created_by		
                 FROM 
                cms_outbound_document
				LEFT JOIN cms_clients
                    ON (cms_outbound_document.client_id = cms_clients.id)
                 WHERE 15 IN (cms_outbound_document.created_by) AND cms_outbound_document.is_active in(1) ORDER BY outbound_no DESC limit 0,10


[2019-02-17 20:55:45]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_outbound_details","data":{"outbound_no":"MSP19-00001"}}


[2019-02-17 20:55:45]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 20:55:45]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 20:55:45]
Function Details: get_outbound_details 
 Param Details : 
{"outbound_no":"MSP19-00001"}


[2019-02-17 20:55:45]
Function Details: db_query
 Param Details: 
SELECT 
						  outbound_no		
						, date_format(outbound_date,'%d-%m-%Y') as outbound_date	
						, client_id
						, employer_id
						, attention_to
						, email_content
						, email
						, attachment
						, concat('http://127.0.0.1:8000/mspdoc_bare/services/files/', 'outbound_document', '/',outbound_no, '/') as filepath
						, remarks
						, approvals
						, status_id
						, ctg_id
						, amount
						, notes
						, is_active
						, date_format(created_date,'%d-%m-%Y') as created_date
						, created_by
						, (select descr from cms_master_list list where list.id = cms_outbound_document.status_id) as status_name			
					 FROM cms_outbound_document WHERE outbound_no = 'MSP19-00001'


[2019-02-17 21:15:53]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_outbound_list","data":{"client_id":"","created_by":"","category_id":"","status_id":"","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 21:15:53]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 21:15:53]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 21:15:53]
Function Details: get_outbound_list 
 Param Details : 
{"client_id":"","created_by":"","category_id":"","status_id":"","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 21:15:53]
Function Details: db_query_list
 Param Details: 
SELECT cms_outbound_document.outbound_no
				, cms_outbound_document.outbound_date
				, cms_outbound_document.client_id
				, cms_outbound_document.employer_id
				, IFNULL(cms_clients.name,'') as client_name
				, cms_outbound_document.attention_to
				, cms_outbound_document.email_content
				, cms_outbound_document.email
				, cms_outbound_document.attachment
				, cms_outbound_document.remarks
				, cms_outbound_document.amount
				, cms_outbound_document.notes
				, cms_outbound_document.approvals
				, cms_outbound_document.status_id
				, cms_outbound_document.created_date
				, (select descr from cms_master_list list where list.id = cms_outbound_document.ctg_id) as category_name
				, (select descr from cms_master_list list where list.id = cms_outbound_document.status_id) as status_name
				, (select name from cms_employees emp where emp.id = cms_outbound_document.created_by) as created_by		
                 FROM 
                cms_outbound_document
				LEFT JOIN cms_clients
                    ON (cms_outbound_document.client_id = cms_clients.id)
                 WHERE 15 IN (cms_outbound_document.created_by) AND cms_outbound_document.is_active in(1) ORDER BY outbound_no DESC limit 0,10


[2019-02-17 21:22:45]
Function Details: db_query
 Param Details: 
SELECT id,name,office_email FROM cms_employees WHERE id =15 AND is_active = 1


[2019-02-17 21:22:45]
Function Details: db_query
 Param Details: 
SELECT id,name FROM cms_clients WHERE is_active = 1


[2019-02-17 21:22:45]
Function Details: db_query
 Param Details: 
SELECT id,employer_name FROM cms_master_employer WHERE is_active = 1


[2019-02-17 21:22:45]
Function Details: db_execute_custom_sql
 Param Details: 
SELECT cms_appt_pic.id,cms_appt_pic.name,cms_appt_pic.email, cms_clients.name as company_name
                           FROM cms_appt_pic INNER JOIN cms_clients ON cms_appt_pic.client = cms_clients.id
                           WHERE cms_appt_pic.created_by = 15 
                           UNION ALL
                           SELECT cms_employees.id, cms_employees.name, cms_employees.office_email as email,
                           cms_master_employer.employer_name  as company_name
                           FROM
                           cms_employees INNER JOIN cms_master_employer ON cms_employees.employer_id = cms_master_employer.id
                           WHERE cms_employees.is_active = 1


[2019-02-17 21:22:46]
Function Details: db_query
 Param Details: 
SELECT template_content FROM cms_master_template WHERE id = 26


[2019-02-17 21:22:46]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 34


[2019-02-17 21:22:46]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 35


[2019-02-17 21:22:47]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_outbound_list","data":{"client_id":"","created_by":"","category_id":"","status_id":"","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 21:22:47]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 21:22:47]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 21:22:47]
Function Details: get_outbound_list 
 Param Details : 
{"client_id":"","created_by":"","category_id":"","status_id":"","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 21:22:47]
Function Details: db_query_list
 Param Details: 
SELECT cms_outbound_document.outbound_no
				, cms_outbound_document.outbound_date
				, cms_outbound_document.client_id
				, cms_outbound_document.employer_id
				, IFNULL(cms_clients.name,'') as client_name
				, cms_outbound_document.attention_to
				, cms_outbound_document.email_content
				, cms_outbound_document.email
				, cms_outbound_document.attachment
				, cms_outbound_document.remarks
				, cms_outbound_document.amount
				, cms_outbound_document.notes
				, cms_outbound_document.approvals
				, cms_outbound_document.status_id
				, cms_outbound_document.created_date
				, (select descr from cms_master_list list where list.id = cms_outbound_document.ctg_id) as category_name
				, (select descr from cms_master_list list where list.id = cms_outbound_document.status_id) as status_name
				, (select name from cms_employees emp where emp.id = cms_outbound_document.created_by) as created_by		
                 FROM 
                cms_outbound_document
				LEFT JOIN cms_clients
                    ON (cms_outbound_document.client_id = cms_clients.id)
                 WHERE 15 IN (cms_outbound_document.created_by) AND cms_outbound_document.is_active in(1) ORDER BY outbound_no DESC limit 0,10


[2019-02-17 21:24:25]
Function Details: db_query
 Param Details: 
SELECT id,name,office_email FROM cms_employees WHERE id =15 AND is_active = 1


[2019-02-17 21:24:25]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 39


[2019-02-17 21:24:25]
Function Details: db_query
 Param Details: 
SELECT id,employer_name FROM cms_master_employer WHERE is_active = 1


[2019-02-17 21:24:25]
Function Details: db_query
 Param Details: 
SELECT id,name FROM cms_clients WHERE is_active = 1


[2019-02-17 21:24:25]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 40


[2019-02-17 21:24:25]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 5


[2019-02-17 21:24:25]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 20


[2019-02-17 21:24:25]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_service_request_list","data":{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 21:24:25]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 21:24:25]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


[2019-02-17 21:24:25]
Function Details: get_service_request_list 
 Param Details : 
{"category_id":"","created_by":"","company_id":"","status_id":"","complete_status_id":"224","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}


[2019-02-17 21:24:25]
Function Details: db_query_list
 Param Details: 
SELECT cms_service_request.service_no
				, cms_service_request.sr_data
				, cms_service_request.created_date
				, cms_employees.name as created_by
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.category_id')) as category_name
				, (select descr from cms_master_list list where list.id = JSON_UNQUOTE(cms_service_request.sr_data->'$.status_id')) as status_name
				, (select descr from cms_master_list list where list.id = 224) as complete_status_name			
                 FROM 
                cms_service_request
				LEFT JOIN cms_employees
                    ON (cms_service_request.created_by = cms_employees.id)
                 WHERE 15 IN (cms_service_request.created_by) AND cms_service_request.is_active in(1) ORDER BY service_no DESC limit 0,10


[2019-02-17 21:24:39]
Function Details: db_query
 Param Details: 
SELECT id,name,office_email FROM cms_employees WHERE id =15 AND is_active = 1


[2019-02-17 21:24:39]
Function Details: db_query
 Param Details: 
SELECT id,name FROM cms_clients WHERE created_by = 15 AND is_active = 1


[2019-02-17 21:24:39]
Function Details: db_query
 Param Details: 
SELECT id,name,office_email FROM cms_employees WHERE is_active = 1


[2019-02-17 21:24:39]
Function Details: db_query
 Param Details: 
SELECT cms_employees.id,cms_employees.name FROM cms_employees INNER JOIN cms_employees_access ON cms_employees.id = cms_employees_access.emp_id WHERE cms_employees_access.module_id = 7 AND cms_employees_access.view_it = 1 AND cms_employees.is_active = 1


[2019-02-17 21:24:39]
Function Details: db_query
 Param Details: 
SELECT id,concat("Allowance - ", descr) as descr FROM cms_master_list WHERE category_id in(7) AND is_active = 1


[2019-02-17 21:24:39]
Function Details: db_query
 Param Details: 
SELECT id,concat("Billing - ",descr) as descr FROM cms_master_list WHERE category_id in(25) AND is_active = 1


[2019-02-17 21:24:39]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 9 AND is_active = 1


[2019-02-17 21:24:39]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 10 AND is_active = 1


[2019-02-17 21:24:39]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 11 AND is_active = 1


[2019-02-17 21:24:39]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 12 AND is_active = 1


[2019-02-17 21:24:39]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 13 AND is_active = 1


[2019-02-17 21:24:39]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 14 AND is_active = 1


[2019-02-17 21:24:39]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 8 AND is_active = 1


[2019-02-17 21:24:39]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 33 AND is_active = 1


[2019-02-17 21:24:39]
Function Details: db_query
 Param Details: 
SELECT id,employer_name FROM cms_master_employer WHERE is_active = 1


[2019-02-17 21:24:39]
Function Details: db_query
 Param Details: 
SELECT id,name,descr FROM cms_upload_doc WHERE is_active = 1


[2019-02-17 21:24:39]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 26 AND is_active = 1


[2019-02-17 21:24:39]
Function Details: db_query
 Param Details: 
SELECT id,descr FROM cms_master_list WHERE category_id = 27 AND is_active = 1


[2019-02-17 21:24:39]
Function Details: db_query
 Param Details: 
SELECT id,descr,field1,field2 FROM cms_master_list WHERE category_id = 32 AND is_active = 1


[2019-02-17 21:24:39]
Function Details: db_query
 Param Details: 
SELECT id,ref_name,percentage,amount FROM cms_master_referral WHERE ref_type = 0 and is_active = 1


[2019-02-17 21:24:39]
Function Details: db_query
 Param Details: 
SELECT id,ref_name,percentage,amount FROM cms_master_referral WHERE ref_type = 1 and is_active = 1


[2019-02-17 21:24:39]
Function Details: db_query
 Param Details: 
SELECT id,name FROM cms_employees WHERE access_level in (57,58,64,65) AND is_active = 1


[2019-02-17 21:24:39]
Function Details: db_query
 Param Details: 
SELECT id,name FROM cms_employees WHERE access_level in (64,65,58) AND is_active = 1


[2019-02-17 21:24:39]
Function Details: db_query
 Param Details: 
SELECT id,name FROM cms_country 


[2019-02-17 21:24:39]
Business Layer: {"token":"03293db0a67871ad036730841905cf98","method":"get_contract_list","data":{"candidate_name":"","status_id":"","client_id":"","created_by":"","cont_status":"174,175,176","po_no":"","view_all":"0","start_index":0,"limit":10,"is_admin":"0","emp_id":"15"}}


[2019-02-17 21:24:39]
Function Details: is_token_valid 
 Param Details : 
"03293db0a67871ad036730841905cf98"


[2019-02-17 21:24:39]
Function Details: db_query
 Param Details: 
SELECT count(token) as token_count  FROM cms_emp_login_sessions WHERE token	= '03293db0a67871ad036730841905cf98'


